{"version":3,"sources":["img/pixel.png","img/plot-states/watered-plot.png","img/plot-states/fertilized-plot.png","img/dishes/carrot-soup.png","img/items/carrot.png","img/items/carrot-growing.png","img/items/carrot-seed.png","img/items/pumpkin.png","img/items/pumpkin-growing.png","img/items/pumpkin-seed.png","img/items/spinach.png","img/items/spinach-growing.png","img/items/spinach-seed.png","img/items/fertilizer.png","img/items/scarecrow.png","img/items/sprinkler.png","img/items/cow-feed.png","img/items/milk-1.png","img/items/milk-2.png","img/items/milk-3.png","img/tools/hoe.png","img/tools/scythe.png","img/tools/watering-can.png","img/animals/cows sync /^/.//.*/-cow/.png$","img/animals/cows/blue-cow.png","img/animals/cows/brown-cow.png","img/animals/cows/green-cow.png","img/animals/cows/orange-cow.png","img/animals/cows/purple-cow.png","img/animals/cows/rainbow-cow.png","img/animals/cows/white-cow.png","img/animals/cows/yellow-cow.png","data/recipes.js","Farmhand.context.js","enums.js","constants.js","data/items.js","data/shop-inventory.js","data/fruit-names.js","data/maps.js","img/index.js","utils.js","event-handlers.js","data/achievements.js","templates.js","reducers.js","strings.js","components/AppBar/AppBar.js","components/LogView/LogView.js","components/Item/Item.js","components/PriceEventView/PriceEventView.js","components/ProgressBar/ProgressBar.js","components/Achievement/Achievement.js","components/AchievementsView/AchievementsView.js","components/StatsView/StatsView.js","components/AccountingView/AccountingView.js","components/Navigation/Navigation.js","components/Inventory/Inventory.js","components/Toolbelt/Toolbelt.js","components/PlantableItems/PlantableItems.js","components/FieldTools/FieldTools.js","components/CowPenContextMenu/CowPenContextMenu.js","components/ContextPane/ContextPane.js","components/Plot/Plot.js","components/Field/Field.js","components/Home/Home.js","components/CowPen/CowPen.js","components/TierPurchase/TierPurchase.js","components/Shop/Shop.js","components/Recipe/Recipe.js","components/Kitchen/Kitchen.js","components/Stage/Stage.js","components/NotificationSystem/NotificationSystem.js","components/DebugMenu/DebugMenu.js","mui-theme.js","Farmhand.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","recipe","FarmhandContext","createContext","enumify","reduce","acc","key","cropType","fieldMode","stageFocusType","cropLifeStage","itemType","genders","cowColors","dialogView","freeze","BREAKPOINTS","PURCHASEABLE_FIELD_SIZES","Map","columns","rows","price","PURCHASEABLE_COW_PENS","cows","STAGE_TITLE_MAP","HOME","FIELD","SHOP","COW_PEN","KITCHEN","CARROT","PUMPKIN","SPINACH","SEED","GROWING","COW_FEED","CROP","FERTILIZER","MILK","SCARECROW","SPRINKLER","carrotSeed","doesPriceFluctuate","enablesFieldMode","PLANT","growsInto","isPlantableCrop","name","type","value","carrot","cropTimetable","pumpkinSeed","pumpkin","spinachSeed","spinach","fertilizer","description","FERTILIZE","sprinkler","SET_SPRINKLER","hoveredPlotRangeSize","isReplantable","scarecrow","SET_SCARECROW","cowFeed","milk1","milk2","milk3","carrotSoup","markup","ingredients","items","condition","state","itemsSold","DISH","sum","itemId","recipesMap","recipes","recipeName","itemsMap","itemName","item","cropIdToTypeMap","pixel","require","plotStates","dishes","tools","hoe","scythe","animals","cow","values","color","lowerCaseColor","toLowerCase","GROWN","shopInventoryMap","shopInventory","chooseRandom","list","Math","round","random","length","memoizationSerializer","args","JSON","stringify","arg","toString","createUniqueId","btoa","Date","now","clampNumber","num","min","max","castToMoney","moneyTotal","scaleNumber","baseMin","baseMax","createNewField","Array","fill","undefined","moneyString","number","Dinero","amount","toFormat","formatNumber","format","precision","convertPrecision","dollarString","integerString","getItemValue","valueAdjustments","toUnit","getAdjustedItemValue","Number","toFixed","isItemSoldInShop","Boolean","getResaleValue","getPlotContentFromItemId","getPlotContentType","doesPlotContainCrop","plot","isItemAGrownCrop","isItemAFarmProduct","getCropId","getCropLifecycleDuration","memoize","getLifeStageRange","stage","concat","getCropLifeStage","daysWatered","floor","cropLifeStageToImageSuffixMap","getFinalCropItemIdFromSeedItemId","seedItemId","getFinalCropItemFromSeedItem","generateCow","options","gender","baseWeight","MALE","daysOld","daysSinceMilking","happiness","happinessBoostsToday","fruitNames","weightMultiplier","getCowMilkItem","getCowMilkRate","FEMALE","Infinity","getCowWeight","getCowValue","canMakeRecipe","inventory","inventoryQuantityMap","quantity","every","finalStageCropItemList","push","findInField","field","find","row","serializer","doesMenuObstructStage","filterCondition","filter","window","screen","width","itemTypesToShowInReverse","Set","sortItemIdsByTypeAndValue","itemIds","sortBy","has","sortItems","forEach","CLEANUP","HARVEST","WATER","toolbeltFieldModes","handleItemPurchaseClick","howMany","this","purchaseItem","handleMakeRecipeClick","makeRecipe","handleCowPurchaseClick","purchaseCow","handleCowSellClick","sellCow","handleCowHugClick","hugCow","handleCowNameInputChange","target","changeCowName","handleItemSellClick","sellItem","handleViewChange","setState","stageFocus","handleFieldModeSelect","selectedItemId","includes","handleHarvestAllClick","harvestAll","handleItemSelectClick","handlePlotClick","x","y","plantInPlot","harvestPlot","clearPlot","waterPlot","fertilizeCrop","setSprinkler","setScarecrow","handleClickEndDayButton","incrementDay","handleAddMoneyClick","money","handleClearPersistedDataClick","clearPersistedData","handleWaterAllPlotsClick","waterAllPlots","handleFieldPurchase","fieldId","purchaseField","handleCowPenPurchase","cowPenId","purchaseCowPen","handleMenuToggle","setOpen","isMenuOpen","handleClickNextMenuButton","focusNextView","handleClickPreviousMenuButton","focusPreviousView","handleCowSelect","selectCow","handleCowClick","handleCloseNotification","event","reason","doShowNotifications","handleNotificationClick","handleNotificationExited","notifications","handleClickDialogViewButton","currentDialogView","handleCloseDialogView","NONE","handleClickLoanPaydownButton","paydownAmount","adjustLoan","handleClickTakeOutLoanButton","loanAmount","handleSwipe","startX","initial","dir","handlers","blockSwipeNavigation","handleFieldZoom","newScale","addMoney","reward","sumOfCropsHarvested","cropsHarvested","cropHarvested","achievements","rewardDescription","wasWateredToday","goal","revenue","purchasedCowPen","addItemToInventory","cowColorsPurchased","MILK_PRODUCED","achievement","_","milk","PRICE_CRASH","PRICE_SURGE","LOAN_INCREASED","loanBalance","LOAN_BALANCE_NOTIFICATION","OBSERVE","incrementCropAge","crop","isFertilized","setWasWateredProperty","plotContent","setWasWatered","resetWasWatered","updateField","modifierFn","applyChanceEvent","chancesAndEvents","chance","fn","processWeather","applyPrecipitation","processNerfs","applyCrows","createPriceEvent","priceEvent","priceEventKey","adjustItemValues","priceCrashes","priceSurges","plotContainsScarecrow","fieldHasScarecrow","notification","message","severity","newDayNotifications","waterField","updatedField","destroyCrop","processSprinklers","crops","modifiedField","plotY","plotX","rangeSize","centerX","centerY","squareSize","rangeStartX","rangeStartY","getRangeCoords","fieldRow","modifyFieldPlotAt","set","processFeedingCows","cowInventory","cowInventoryLength","cowFeedInventoryPosition","findIndex","unitsSpent","i","anyUnitsRemain","decrementItemFromInventory","processMilkingCows","currentItemSlot","currentItem","fieldReducer","fieldUpdaters","processField","computeCowInventoryForNextDay","removeFieldPlotAt","itemInventoryIndex","splice","rotateNotificationLogs","notificationLog","dayCount","error","info","success","warning","unshift","day","generatePriceEvents","cropItem","priceEventType","daysRemaining","getPriceEventForCrop","decrementPriceEventDays","priceEvents","updatePriceEvents","applyLoanInterest","computeStateForNextDay","isFirstDay","cowForSale","totalValue","adjustedItemValue","saleIsGarnished","saleValue","loanGarnishment","garnishedProfit","updateLearnedRecipes","learnedRecipes","recipeId","ingredientId","showNotification","cowValue","get","newCowInventory","indexOf","modifyCow","cowId","cowIndex","plantableItemId","finalCropItemId","doFertilizersRemain","some","doSprinklersRemain","doScarecrowsRemain","purchasedField","column","newName","slice","selectedCowId","updateAchievements","prevState","completedAchievements","ACHIEVEMENT_COMPLETED","adjustmentAmount","AppBar","viewTitle","className","position","Toolbar","IconButton","classNames","aria-label","onClick","Typography","variant","Consumer","props","gameState","LogView","join","Alert","elevation","j","noop","ValueIndicator","poorValue","Tooltip","placement","title","PurchaseValueIndicator","SellValueIndicator","QuantityNumberFormat","inputRef","onChange","rest","isNumericString","thousandSeparator","allowNegative","decimalScale","isAllowed","floatValue","onValueChange","QuantityInput","handleSubmit","handleUpdateNumber","TextField","inputProps","pattern","onKeyUp","which","InputProps","inputComponent","Item","isPurchaseView","isSelectView","isSelected","isSellView","playerInventoryQuantities","showQuantity","adjustedValue","maxQuantityPlayerCanAfford","useState","purchaseQuantity","setPurchaseQuantity","sellQuantity","setSellQuantity","useEffect","handleItemPurchase","handleItemSell","Card","raised","CardHeader","avatar","src","alt","subheader","CardContent","CardActions","Button","disabled","PriceEventView","Divider","ProgressBar","percent","fixedPercent","style","background","interpolate","Achievement","isComplete","partitionAchievements","complete","incomplete","AchievementsList","ExpansionPanelDetails","AchievementsView","partitionedAchievements","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","StatsView","TableContainer","component","Paper","Table","TableBody","TableRow","TableCell","scope","align","MoneyNumberFormat","setLoanInputValue","fixedDecimalScale","prefix","AccountingView","loanInputValue","LOAN_GARNISHMENT_RATE","LOAN_INTEREST_RATE","FARMERS_LOG","PRICE_EVENTS","ACHIEVEMENTS","STATS","ACCOUNTING","dialogTriggerTextMap","dialogTitleMap","dialogContentMap","Navigation","viewList","Select","view","MenuItem","Icon","HistoryIcon","FlashOnIcon","AssignmentTurnedInIcon","TrendingUpIcon","AttachMoneyIcon","Fab","Dialog","fullWidth","maxWidth","onClose","open","DialogTitle","DialogContent","DialogActions","autoFocus","categoryIds","categoryIdKeys","ANIMAL_PRODUCTS","ANIMAL_SUPPLIES","CROPS","DISHES","FIELD_TOOLS","SEEDS","itemTypeCategoryMap","separateItemsIntoCategories","category","Inventory","playerInventory","itemCategories","headerText","Toolbelt","currentFieldMode","keybinding","toolImageId","selected","backgroundImage","PlantableItems","plantableCropInventory","FieldTools","fieldToolInventory","genderIcons","faVenus","faMars","nullHeartList","isHeartFull","heartIndex","numberOfFullHearts","CowCardSubheader","isCowPurchased","_null","icon","faFullHeart","faEmptyHeart","CowCard","debounced","isNameEditable","setName","placeholder","CowPenContextMenu","onFocus","ContextPane","getBackgroundStyles","backgroundImages","isInHoverRange","rangeFloorX","rangeFloorY","Plot","hoveredPlot","setHoveredPlot","image","itemImages","getPlotImage","lifeStage","onDragEnter","onMouseOver","keyMap","zoomIn","zoomOut","FieldContent","fitToScreen","setFitToScreen","fieldContent","useMemo","arr","Field","currentScale","setCurrentScale","limitToWrapper","pan","animationTime","onZoomChange","scale","wheel","doubleClick","transformProps","Home","linkTarget","source","Cow","isMoving","showHugAnimation","randomPosition","repositionTimeoutId","animateMovementTimeoutId","animateHugTimeoutId","animateTimeoutHandler","finishMoving","move","setTimeout","movementAnimationDuration","scheduleMove","repositionTimeoutHandler","waitVariance","prevProps","clearTimeout","hugAnimationDuration","left","top","PopperProps","disablePortal","faHeart","Component","CowPen","TierPurchase","selectedTier","tierValues","tiers","entries","hasPurchasedTier","tierLevel","purchasedTier","handleTierPurchase","selectedTierNumber","onSelectChange","updateSelectedTier","nextTierNumber","nextTierToPurchase","String","canPlayerBuySelectedTier","renderTierLabel","tier","Shop","IngredientsList","Recipe","canBeMade","Kitchen","Stage","ref","useRef","current","scrollTop","overflow","NotificationSystem","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onExited","DebugMenu","square","createMuiTheme","typography","useNextVariants","computePlayerInventory","getFieldToolInventory","getPlantableCropInventory","Farmhand","arguments","localforage","createInstance","hasBooted","initInputHandlers","initReducers","eventHandlers","method","bind","debounce","nextView","openAccounting","openAchievements","openLog","openPriceEvents","openStats","previousView","selectHoe","selectScythe","selectWateringCan","toggleMenu","keyHandlers","index","viewName","assign","reducerName","reducer","reducers","getItem","then","updatedAchievementsState","clear","COW_PEN_PURCHASED","previousLearnedRecipes","hasOwnProperty","RECIPE_LEARNED","nextDayState","pendingNotifications","setItem","reduceByPersistedKeys","catch","console","currentViewIndex","theme","onSwiped","Provider","Drawer","PaperProps","MobileStepper","steps","activeStep","itemInInventory","ReactDOM","render","document","getElementById"],"mappings":"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AAO,IAOIiB,GAAQnD,GAAO,CAC1BzB,GAAI,SACJyD,KAAM,eACNC,KAAMV,GACNW,MAAO,KAOIkB,GAAQpD,GAAO,CAC1BzB,GAAI,SACJyD,KAAM,eACNC,KAAMV,GACNW,MAAO,KAOImB,GAAQrD,GAAO,CAC1BzB,GAAI,SACJyD,KAAM,eACNC,KAAMV,GACNW,MAAO,MC7MM,IAEbR,GACAa,GACAF,GAGAI,GACAO,GACAJ,ICpBa,IACb,OACA,QACA,UACA,UACA,aACA,SACA,WACA,aACA,eACA,YACA,cACA,aACA,YACA,SACA,QACA,aACA,aACA,UACA,YACA,YACA,WACA,UACA,SACA,SACA,aACA,SACA,MACA,OACA,aACA,QACA,aACA,QACA,aACA,WACA,cACA,aACA,YACA,SACA,aACA,SACA,UACA,SACA,OACA,UACA,QACA,OACA,SACA,SACA,SACA,YACA,QACA,aACA,SACA,QACA,WACA,QACA,YACA,QACA,SACA,SACA,QACA,OACA,YACA,YACA,YACA,SACA,WACA,OACA,UACA,cACA,SACA,QACA,UACA,SACA,SACA,WACA,YACA,QACA,QACA,cACA,SACA,UACA,UACA,aACA,UACA,YACA,WACA,YACA,SACA,aACA,OACA,YNtEWU,IAhBGrE,EAgBkB,CAChCV,GAAI,cACJyD,KAAM,cACNuB,OAAQ,GACRC,YAAY,eACTC,GAAalF,GAAK,GAErBmF,UAAW,SAAAC,GAAK,OAAKA,EAAMC,UAAUH,GAAalF,KAAO,GAAK,IAtB9DQ,OAAOiB,OAAPjB,OAAA,IAAAA,QAAA,IAAAA,CAAA,GACKE,GADL,IAEEgD,KAAMrC,GAASiE,KACf3B,MACEjD,EAAOsE,OACPxE,OAAOD,KAAKG,EAAOuE,aAAanE,QAC9B,SAACyE,EAAKC,GAAN,OAAiBD,EAAML,EAAMM,GAAQ7B,MAAQjD,EAAOuE,YAAYO,KAChE,OOXAhD,GAA6BvB,EAA7BuB,OAAQC,GAAqBxB,EAArBwB,QAASC,GAAYzB,EAAZyB,QAEZ+C,GAAajF,OAAOD,KAAKmF,GAAS5E,QAAO,SAACC,EAAK4E,GAC1D,IAAMjF,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","file":"static/js/main.1d03cf49.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4goFDRc7VmYGWwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAALSURBVAjXY2AAAgAABQAB4iYFmwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABbklEQVRIia1WvY3GIAz15ToqRqCmZoAMwT4R+3iJ66lTMwIjXGX04tjJp9NZQgFsnv1sfkL0gdRaj0/sPhIN5oH/yekTmOh0/239hkpmbhYQMzcNoJ1Y64mIvrQSjVC8ecvuwsDyrI2IiEopxxiDxhgLRMZPQSwGaFRKWeOUEglYSukCiDaix0wsB+hkjEG994ZjCwhFbGQeM/CtGcQYKYSwxxjXeM5JvfeWc17zzNxCCPuc8+I8xkg55/08zx+XgSc6RcgImSGDzQIXQ/x64LIOwTEjm7drtBMB0c5Qb8mmq64jk37vvWkG2O+93w4jkVEDTdPKse5bzAXndpJF+QSimXrgi4G3573rwcu3u4twEqNGx1gPLLbeDO4uqrUemGthgKBSaLyLiGgVGLNxu001fbwuvPRYRdcZuZwDZm4S6dPVjKlBRxqcSJ0D/fUcWGDM3KRdgnt6/rwXTLcnHLIm316utzf5X/9C3oL6BQBimEemYBpmAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAU0lEQVRYhe2QwQ0AIAjEWMbxnMpBdQFDCIqAXD/3bHNEIBOjt6nZp7IrMVZyUYS1nI0oIY8bUUoeIgIP4IEteAAPuMpDRJR4QMTXESpcpKcxIA0LimnSv8U41HcAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVRIie2UvRGCQBCF3znmDAVICYYY0YiVWIKV0AiRhJYABTBUsAbK8bi7PVE0uxcx+/O+XdgBSEpKMpGc/MLLDVpTuRy94rYbUBZ5MGau96AvA+R2PqAsctsUMtRAnDvVvfXeuZMDsM1s0naDl+fY9Ew9whuIjA1MVtmGaRttSjfHr4i8zJ6LZGzmhqwC0AcBTy1z3LsAc41W9Kmm6YH5G/xN3plu3YKnDwE2QVxzDfAVJGQeAwCvO34HotNe9atQQTHGCo8kXQ9f8U/veaBQnAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3klEQVRIie2UMQ7DIAxFTVUJZcnIBTggU0+RKQfMBTJmQUx0aEDY2FSkdMvbwMn//o4VgJshrFOEdYr/N+m57xalKYaloqKd4o9uk4TzqnrmcqJW5+lOEH92m3BnmqZALJyU86+rDeFEK0E8Fp0Ps/PYyHklzrwwbnWADAAA5lfAJkSMQ9qiLL7tIV9Sw9OsuTmSO+p+2wNYU4zrk0QhAyEJl6Dq3hqNkiCS8JU1TcLWaJRANGGgBdQ9Fc0f+ft6Z8QEzMy7hLkX4rFo1PkvwokqgTV6iLBEhPL3cAMAb8x5cUBYehurAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAc0lEQVRIiWNgGAWjYJiCiZz/aWcg1QyfyPkfq8HoYujqyLYEF00AMOGVzf/OSLJDyALIrkb3FQGDiXMhsiXIgAgfEm8BuiVEBh+xFuALBrxmEGPB/0/d7Dgl+Up/4jWHkAV4DSfGElwWUJJbSYvXUTD0AQDDYTYvCJYfBwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAp0lEQVRIie2U3Q2AMAiErXEZGcShHeQcpz4YkipQ8CdqjN8bacvBlbZpfj4HEWUiyhx3VycfenCUASRVgCsAkGrrtT2MENCqsNf1PaaAPLyPRWjdvXkH40Rq+2WSMpEVC7ZTcAtnRN0x9S7doz1S1W0CEetci7TR4+QR60Jfhef7IqSLCIuiEwMgjRO5xVVesj8xln2mQEmtbSlis7Io2vZpHvkuXssMLP56RC4nRRUAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAu0lEQVRIie1UuxGDMAyVOUomYA52yRzpU9IzR3bJHExArzQg54S+puIur0On97GFBXB3lAYOZvhZA5wfE3283h9Xo2sVj6JPM4CSAwRuIHMCjtD1SidAoaaJub3cAPEpMBZRyOolk+IRWlCWqi3OYN3yohrnMKD06wYwDj6Z18ah1nYt/DUwk3FDLmjhym8awt/guoE2TG34HOJDi5I1Q/ehZcUtDl9i6rrYU9VGu0/cRcSVqecwwb6b4wsIwjy5qWuN/wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAkElEQVRIie2SwQ2EIBBFH8YW7MQOKMI69u7Ru3VYhB3YCUWMl9VdAeMYNfEwLyEhn+H/yQAYhmFcpxqRSJLvUuG05sHjAOmaGoB2mA7vAxTaTv7Ncw3cEbDSDhPVqAspd3QBCH41ybKc83uTZGS5AJHPVnA+LQoekroeiUPixMT8LK7f+i4b9bc7m/eQr/EmZqhEI2B1InAFAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIid1UwQ3EIAxzK/7dI2MwCaMxScfIHkzAPSoQnJKS0uvj6h8SOI7jALwWRJSJKN+957RHPqTjECkz8zJ7bx0p9CHB0okGsQAzL3vcZjntsMzBOqv/RZ1626aWmhm4Ql7jBoiRKwKuFhf34BvWvZCEuHqINot8SGoRSUjt4Iy0COhsNMJkUVtkJOZxDBfv15vZWXQlLe0bQLfNPAON/PZ3bSI/QdfBbFL2uD2TrPd/1QDwAfx6iTTKaBYOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5UlEQVRIie1UQQ6DMAwL69TX9Ft91b7FayYhdhiZgmPTXjfNpxaCY8elZn98J3rdrdd9pnSRBAyP52K97tbKe79u+f2wgZM7icPJkBz30ORGlbaS1cWGjNzX4P7cINr3JtgIyeMaXZsaESmU5PHZuqUR3S+JmCoWMBvpgXHII9VMWHCRM8APW6Gz/RBeuU0NRJEkQ5dkTDwDL2bN1PElAZup/wDJfX+luhV6A2QHTiZORYLXitGeHbhFPA0qF2xCwC+7CLzc1EUXBQXokCPUCAghgofMSKLi2XxsZkQR8ZRMqP8NvAD8e3ntjx5V7wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVRIie2S0QnAIAxEzwpO41pO5VpOI4j9UmyrMelfSx4ICnrPgwCKonwfI7odXO37mFlvDzKsrRFvn7JXgllYOwuYC4KrPWz1Y29ZLegG90AASOXaZCOZC2I2SIUvFQsoibdgybcCStJgiFazzBpBYabyV07e8yJJjGp+5wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAV0lEQVRIiWNgGAW0AE3Rtv+dDBT/D7Q7BhA0RdtSzftM2AQPXH1CkiE0jw9q+pi2gC4upUp40yUTDcqIczJQ/D8oHTawgKySFVc4Ui18sblohJf/QxoAANEqIe1OcIVOAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAoklEQVRIiWNgGOqAEYf4f2qZh82C/0EzfMgyfV3GFgwzWQgoJhrgchROCxgYGBi2tNgTZbhPzUGccngtQAayu5+j8B+7ShKlj2gLSDEUGTCRolh293MMnxACg8sH5ACiLSDH9QwMBIIIX/Kj2AJyczPRFjAwEJ+b8TmGYCr6f9YBrzyj8QG88gQtIGQAIYDXAmrEw+DJB4PWAqw1Gg3MHMIAAAPVIWaPpOV+AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4UlEQVRIieWUvQ3CMBCF3yHEIEhsEadKQUHLEkgpvECWyBi0FBRUeIV0bEJjChzkOP45WyBF4kmWT9a9+86OY2Bh0mawRTnFn9d3sNnzvVzAp/goLmTFBBQr1EHWOcfqhXZA1oC+HDHOduzL5QK+JjbA6ngSp8S+RW5ROpxZ/qz/oMTLPSJd9wqDBAYJ1L3yAYsBepDzRbOWhKQAnC6jOeuAgez5tFW47QQaKACwYgE3F8638e3Am9g8lDeOeUIAuxsAoHsrZklmjQKeCZmromuapa6C7qq8h3A5b9H/An6uF4WMRHW3ug60AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlklEQVRIie1VQQqAMAzLxO/5AP+y4/7iA3zgPDikbG1XrYKIAWFsWRLSgcCPNyOXz8UL0qWUEgAgxujiDb14RYBLeIhrkJI1AlVC7cxsIAnBKm4xaEwoeuKAYQZenKqIg6eipv913tfTYp+DVBE7XAq6pzzl/gyUdIEzbkjKWa44mVZE9zWt8aK5mff4M/0Nbof1J/QhbIFgQxZVKNMbAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaUlEQVRIie1VO46DMBAdom18idRQEMk3oKfbK1ClQZyFxhXHoPcNkOKCPpdw6S3Qc8aOnZBNmpV2GpBt3m8YIPqvT9U6Sfeb5w57gM/fpSMiUkPpXiV6SqCNpb4VRETU1CIgfptgnaRrakHjbImI/FUNm6M9JFmCdZJOGxuswQlKG/uUJEmwTtKNs/WR9O3NhTbbOt+Ho90EyH2cLcEF1F+uNzcg5b2Jq8g5SJFyIO6kbwVV3ZLEunOA7Hn+2livHHsgOx3zou4IkGVTCw+ArHlETS28AP6WpUi+uHK+Mc6WTsctayjOzQRcgIhXwcEBmmsaokKDc2d5PzxB3EQA8BjiOYjJ4RI4VbcUBw6ujfU2+1YEvQA4sscV5y9XCmbDO1BD6WA7pQjKeTzxmUf3QQ/imF5Z4875Od8M/hal1OaaytdTLoLpU0PpUtOaUl91S/HoQ5ebbO8kfnidpMMPJ/dxU0OZ3fu79QOnNyLrGvOANgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAlElEQVRIie2UwRGAMAgEL45F2IIV0IB2bQNUoCXYBf70YYBkIuND+cLckoMABEcqqJEWDQ8gzGwWEJGp0zmA5gi3qC/pQiTPSMnv71WLBNC7PwWuV2S1NIB4wgrophdukTrkeQsGAMAylmwxMK26ne6aCg9mPtFu5sNn8AM+AHDX1FvDJoD1gUoj/Ni557qGUVn/TByjTiCJ3SiEogAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAt0lEQVRIicWUwREDIQhFv5ktwhZSAQ0kHVimJaQBKkhKsAty2s0hKrCGyT8q8x8CAgQrGWJkxUMDCDNPA4ho6nNRAMsKL9FmyUKkz0hJz++vJRJgnP1h8HlF12sEEM14APryCy/RsMn3VzAAAB5XyxQDt+e4nOqYCufpfaI2vQ/vgQtQqaEqGZ8GVGoonFE4uyAmwG6+ywMxAUqn0b2z04AVqWOqjeESYPaBrApfduq69jCc8b/RG+oJMonZquS9AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVRIicWUwRECMQhFfxwryCktWAENaNc2QAVaQk5pAS9GHU0CbDYjp50J8x98WIDFEQw5MqOhAYSZhwlENNQ5KIDpWG7R0VKFSJsRgl7fXy0SoF/9S+DdRVOrBxBNuAP60VtuUXfIl/tiAABcT5YtBs63vp3qmgqn4XugPHx3zaBQRlEENwMKZUROiJxcEBOgitcOPBDTqaiC8TmPz28tXB18A3cDtKq1dqBapK3hFGD0A1lj+bFTz7WH4czfJx6xwUOYVCI2qwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVRIic2Uyw2AMAxDXeZiJs4wAT0zE3vBpVQhbdNPgoQlJA71M8FRgR/rCg9/f8kp4O6BbusKANi9T5iTAg4KL6l3Agq/cnA+xcgEokJo7EMT4MLXiuoNiMVKolNotwjIdEF7GNqic4khAPtVvOTuLQpwzEfij4HU0BMgwYtqDRiCtx4chrccVsFrBjVcMpnAS0YzeM5sCucAcziFfAIH2F1kDeeqXsO/1A1lh0cWBV1VQQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAj0lEQVRIie2UwRGAIAwED+uyJShGWqKv+BIVSSAYPo73c5RdcpkR+POFkPRyeQuPMYoSZwAHAHjvq7zRCSiFDBUzIqAUzodDwlWlrSjD1+12PtdVVqWZgIOL6RW04I7bR49AdfNyFy2BBl6dQhIMdf6wToDT9fvaQZObcwJTeAkwhwOVJVvCyxAa//Y/U7IDKo89jAceg5sAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVRIie1UwRGEMAgkV8JVYAOWRjWUZgNWYAvxYzJkDwg697vbGWeMJLuyQIj+mKAEsZrc90igikhfMPNjkVdEfhHTta7G3inwr5C8WILOWROYQQGSASLSH0pmZFnUyQhqYcVnAqkiNxzLSu99G77NGiBsUy1yLGt/vyPiWoTQpFqMKLbLEzAtikQ8hHNgoYmgTVmBkBxFGpjZtSldAw+KXIt0IavyqSwaOcG0Y+zWHDjkH2d0zLMovDKivsfY7MJyU/f2YyxzI5qpfxtDZ/wWThNOcCnuawEeAAAAAElFTkSuQmCC\"","var map = {\n\t\"./blue-cow.png\": 200,\n\t\"./brown-cow.png\": 201,\n\t\"./green-cow.png\": 202,\n\t\"./orange-cow.png\": 203,\n\t\"./purple-cow.png\": 204,\n\t\"./rainbow-cow.png\": 205,\n\t\"./white-cow.png\": 206,\n\t\"./yellow-cow.png\": 207\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 199;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABvklEQVRoge2YS27EIAxA7SpStrldzpGTcA5ux5aVu2ighNh8ZghTqX4S0kwAf7AxJACKoiiKoiiK8ilwgg4aoFOU8a4DueBWgt7afKyMwV4HLsKM8+LAY1urwkrzG2XgV1XLDwSvrzZLzfjWMbUIiEYPWD1RVjrXOC/JQgCAUgTeWnHjPOtkeEZEsaUGHtt660vkYNKg5EDR+JbQco7k87CwBUt9KZwDw4yfQe7AFOON83GFEfEit9THsSS/hxifbzhpXklez0IFBwiEQ6NHGFcteqrRKyxSR2+6PG2oxG0TS+VvBE842XoS/1nEFJqJFJmQCWc/ezDkDuCxrfRkrU9P1mA4WcuOxYaUWwCAzvtGqESPkt5tguG4703/OYbtgVrU8uIgrTrHOZY9pxYAgGNbay8OTeSpkT+vGCj+L7HAb9rc0icY0rsnesfjvt+M5p5xVKsQWRs309C70LZGA8naW56nxp99TVWIJSjoTY2c/EUFk83MrXbiVFdxIeM8GefDa2RsybM4trNVdQjjRVoigKdCqW8EFx2lgyvn/1wlZtw2X9HBhYn7Cjbi69ojOlojMOMT5AwdiqIog/kGkXwJZoNC/c0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABu0lEQVRoge2YTY6FIAyA24mH8TDuXXI2l+45jLdhFiNMxZaCj8ebZPolJAqlP1B+FMAwDMMwDMMwPgUOsBE62BR1vBpArriWaFfrj4oMtgZwUebdLAou26EqK/Wv1IFfqpUfAjwfbRbN+VoZbQZEpzuMnqiL9vVulnQhAEBpBl4ace9mNshYF0JIhTq4bMetjehBUqAUQNH5mqnlAsn7YWEJltooXADdnB9BHsAQ572b0wgj4kVvqY1jIs9dnM8XnNSvpK9loGIAAYRDo0UZt1u07EZPmKSG1nR5t6MSt0UsbX89eEeQtSfxn0VMoZFIMxMz4WxnDwZ6K0zPT1LoydUh9gn7zsrhul5eOZkJToeX7QiSUE/o3SY6Hh3V3jm6rQFt1vLNQRp1jlOWPacmAIBlO7QPhyry1MjrFQfF9xIT/KbNLX2iI61rolUe1/XmNFfHoe5CYd9TDna9CxEHqQ1qN3K2iYtYJRpoTY2c/EOFLlZutElQTZtL8G4O3s3xMzIVUpdkG4tqQ5AXqZkBBPls6LXtXmyUDq6c/3OVGHHbfGKDmybuL1iPv2tvsVE7AyN+QY6wYRiG0ZlvXcbtM3EOoHkAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVRoge2YyY3FIAxA7VHOtJcKOKUeTqmA9mjAc5iQT4jNks9nRho/CSkB4wXMkgAoiqIoiqIoym+BE2zQAJuijncDyBW3Eu3W+mNFBnsDuCizwYmCu9mqykr9G3XgV9XKDwTPR5ul5nyrTG0GRKcHjJ6oK+1rg5N0IQBAaQbeGnEbHBtkrCOis6QO7ma7tSV6MClQCqDofMvUcoHk/bCwBEttKVwAw5yfQR7AFOdtcOcII+JFb6mNY0mehzifLzipX0lfz0DFAAiEQ6NHGbdb9OxGT1ikht50+bSjErdFLG1/I/hEkK0n8Z9FTKGZSDMTM+FoZw+G9FZ4Pj9JoSdXh9iHvGflcF0vr5zMAofDu9lIEhpJereJjkdHa+8cw9ZAbdbyzUEadY5Dlj2nFgCA3Wy1D4cm8tTI6ysOiu8lFnilzS19oiO9a6JXHtf15jRXx1Hdhch7QLM+ckzCBgdoXg6S97c8T50/2sRFXCUa6E2NnPxDJQ4Mec+OdhJU1+ZCNjiywcXPyLMkdadsZ6naEORFWmYAQT4bRm27Fxulgyvn/1wlZtw2n9jgpon7Czbi79pHbLTOwIxfkDNsKIqiDOYbkFv9oXcptHIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuklEQVRoge1Y4Y3FIAiGSxdymq7hKF2j03Qk7sdVaxVEW593yfElJk+FD1AU+wAMBoPBYDAYDIbfAk6wQQNsihxvA8iJWxHsavqoyGBvADcy8k5m3g6drKLfyIFfqpXTFjxfbZ5Qcb5VRtsB0ekBqydypbrkncSFAAC1HXi14uQdG2QYI6LYUgdxO4q5hAeTBrUAqs63bC0XSLHSlSNYm0vBBTDM+RnIA5jiPHkXVxgRb7y1OQ5LyqsZbUF+4CS9Gl/PQoUACISi0UPG3RY9t9ETLNJEb7p82lEJxSGWrr8R+ESQrZX4z0JMoZmQdiZkwjnPFob0VRh/P0mhJ0+HoEP7znOu663LySxwOozbQZLQSKRvm+B4cFTrcxh2BrRdyy8HadVZ3R9Ztk4tAAC4HdqHQ5uhLDXyccVBsV/DAlfaFOkTt7rzTHTXkHUtnObGWF3OfrqStO9XTg6sD4E79rM8Z+aqt9BNNw+AMwDwrlpzh7mQv2x2XS5E3hF5Fz4jY0vGomxnU20I8iJaChmCXBtGXbs3G7XCleP/PCVmvDaf2GAPMSMz4t+1j9ho3YEZf0HOsGEwGAyD8Q19f/jIZC7JBQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABxElEQVRoge2Yy43EIAxA7VXOqSMd0UyONJOOqIMG2MOELCE2BoZhV1o/CSkB4w+YTwKgKIqiKIqiKL8FTrARBthkdbwbQK64lmhX6o+CDLYGcFPmrGcFt30VlZX6V+rAL9HKiwD9o00iOV8rI80A6/SA0WN1pX2d9ZwuBAAozcBbI+6sJ4OMdSGEq6QObvv6aEv0YFKgFEDR+ZqppQLJ+2FhCZbaUqgAhjk/gzyAKc47668RRsSb3lIbxZI8D3E+X3Bcv5K+loGKAQRgDo0WZdRu0bIb9bBwDa3p8mlHOR6LmNv+RvCJIGtP4j8Lm0Iz4WYmZsLZTh4M6a3weu5JoZ6rQ+wTjoOUQ2Nur5TMAqfD274GTmgk6d0mOh4dld4phq0BadbyzYEbdYpTljynFgCAbV+lD4cq8tTI6wUH2fcSC/ykzSN9oiOta6JVHo15OE3VUYi7UDgOQNMXCIezHtCsl4MvG/c8T50/29hFLBINtKZGTv6hEgcmHAc52klQTZtLcNYHZ338jLxKUnfJNhbRBiPPUjMDCPzZMGrbvdkoHVw5/+cqMeO22WODmibqL9iIv2sfsVE7AzN+Qc6woSiKMphvWcEHQsLA1iwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACNUlEQVRoge2YPW7CMBTH/w+hIgTXQB1yCy6R3oA5GwzpwsIWqVtvUE7QjVtk4B4smV6HxE7i70BIK9U/yRLE9vuwn99zAkQikUgkEolEIr8FTaCDR9BplfGoA6rgUIRe33zyjKGhDvSE7XmnDTjhoxG98Au7bQEAh9VGnx8mg2ZeLY0u3L/aZoGN8U5yv0qfA1bDgwywCS0S0PoimwYt6nYklxMEAHOXnrstBACuWmO6j4sElJVgbsUTURuOtND6kHPtjOHM2nbAafyg1edKriIXSa+LHEfQ1dfF5MB4xk+A6sAkxnORyBXuhQ8AcNXr8x3k7hkYx3g19Ymz4JB30DqbOe8vXnXCAYalaKhx6+JEn/rDgHrwCNYsNMRwwGL8BGiHmItksPGhUFaOLjO0Ev9ZXIVsMvrh1/ktMpCliAG6A0RZyc8KIaAOIyFfXCP4fDaPTf3FbA6A+bYFrS8iEz2XnEEZAVkpDac0BQDvfxMzAKDV98N2ma7WPXLuFSXbqptoxhrrVB1CtPC9OASx5119n1dzv6eaqs4McW6GNmy08KGsvC/1cdVvHkwh4gqbLt4sxOdzLSwrx7vI5QxKSa601KHoFTR9QVnIiFCgvnzseWOZYeHY2rDEFZS+SvmmsOk4NSi5MBcJc5GItzHZOs/k2IFNzlviyktcQ8dbCdkBaoy39Y0BAeCvxuY32AuXyv+5SjzjIqbydseGmmaYvoKN8XXtKTpCd2CKT5BT6IhEIpGR+QG4Bej6ikQYYQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVRoge2XW7LDIAhAoZM9do2u0vtRTQiCYKJpZy7nozNW5KEIBiAIgiAIgiAIvgU+YCNPsKnquBsAV+yl2rXWoyGDowGclOWs60aH6t56pw58mVaKLbi+27JCw3mvzGbpuKO8t5buLtfF55STwP1Hs2M54YEbrw7R9XSszRU9jb9aCk1xvspW+d5Oczx3CEAOYJrzT8DDXOa8lBqaXmlOSyF6iZfl/Ki+kY2qAWRQmsaIMilvvbl8FbWMjqbLakc1mktMq8ZsVgTp7cQ/i9WJH0E7GasCAbQBICLmlbWed10AgJySKmuxAUAurbpWoqXQt011HN9v11hi2h2wTo0XB23XxbUfWdHABvDJG01gBJ4a/H/DQXXc4wVH2jTpg4iXSl/dbW9JllKklzYUswrllI6cnXS59yd12emcUuMwPYUyp38UtPrJ27xzke50a+kyN/KHTTUNzADYBK/Jo0eyr9NsOPw74WlkSA2OGnBystFrXJz/85R44rV5xYYYwK86K+E9gSce+9/5oAiCILjFH63h5sly4OzXAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAABt0lEQVRoge1YW46FIAxtb0xcj6txja7G9fDV+RhRxJYWRe4k05PwoZTTB6VFARwOh8PhcDgcjm8BO+igBjpFjqcO5MRWRL3aelRksNaBExmFSWYeV52ssN7IgR9Vy6YL7kebJ1SMt8poOyAa3SB6Ile6lsIkcSEAQGkHHkWcwsQ6Gd8R0T5SA3FcL3MJDyYDSg4UjbdsLefIJdKFI1iaS8E50Mz4Hsgd6GI8hWmPMCKeeEtzHIaUV1NqQX7gpHUlvppARQcIhKZRQ8ZVi5pqdAeDNFGbLm8bKuFyiKXy1wJvOGntxH8WYgr1hLQzMRO2ebYx5A4gjiu9WevTzhoNp2URZGeVbwAA2u4bsRK9ivRuEw3HeTY9c2h2BrRdy4uDFHV27a8s26cGAAAcV+3DwaYoS438vWKg+FzCB460uaQPjuut0hejbS3JXIqU0uYkx+lPI0nLcuRkw8MduffnzGBmjj2fJgc4BQDPujV3mC/yh86q4kIUJqIwxc/IfSTvdtnKoeoQ5EVYGhlCsivMXAucdJQaV47/c5Xocdu8o4M9xIxMi79rr+iw7kCPX5A9dDgcDkdj/ACrFwU14KjkhAAAAABJRU5ErkJggg==\"","/**\n * @module farmhand.recipes\n */\nimport { itemType } from '../enums'\n\nimport * as items from './items'\n\nconst itemify = recipe =>\n  Object.freeze({\n    ...recipe,\n    type: itemType.DISH,\n    value:\n      recipe.markup +\n      Object.keys(recipe.ingredients).reduce(\n        (sum, itemId) => sum + items[itemId].value * recipe.ingredients[itemId],\n        0\n      ),\n  })\n\n/**\n * @property farmhand.module:recipes.carrotSoup\n * @type {farmhand.recipe}\n */\nexport const carrotSoup = itemify({\n  id: 'carrot-soup',\n  name: 'Carrot Soup',\n  markup: 15,\n  ingredients: {\n    [items.carrot.id]: 4,\n  },\n  condition: state => (state.itemsSold[items.carrot.id] || 0) > 3,\n})\n","import { createContext } from 'react'\n\nconst FarmhandContext = createContext()\n\nexport default FarmhandContext\n","/**\n * @module farmhand.enums\n */\n\n/**\n * @param {Array.<string>} keys\n * @returns {Object.<string>}\n */\nexport const enumify = keys =>\n  keys.reduce((acc, key) => ({ [key]: key, ...acc }), {})\n\n/**\n * @property farmhand.module:enums.cropType\n * @enum {string}\n */\nexport const cropType = enumify(['CARROT', 'PUMPKIN', 'SPINACH'])\n\n/**\n * @property farmhand.module:enums.fieldMode\n * @enum {string}\n */\nexport const fieldMode = enumify([\n  'CLEANUP',\n  'FERTILIZE',\n  'HARVEST',\n  'OBSERVE',\n  'PLANT',\n  'SET_SPRINKLER',\n  'SET_SCARECROW',\n  'WATER',\n])\n\n/**\n * @property farmhand.module:enums.stageFocusType\n * @enum {string}\n */\nexport const stageFocusType = enumify([\n  'NONE', // Useed for testing\n  'HOME',\n  'FIELD',\n  'SHOP',\n  'COW_PEN',\n  'KITCHEN',\n  'INVENTORY',\n])\n\n/**\n * @property farmhand.module:enums.cropLifeStage\n * @enum {string}\n */\nexport const cropLifeStage = enumify(['SEED', 'GROWING', 'GROWN'])\n\n/**\n * @property farmhand.module:enums.itemType\n * @enum {string}\n */\nexport const itemType = enumify([\n  'COW_FEED',\n  'CROP',\n  'DISH',\n  'FERTILIZER',\n  'MILK',\n  'SCARECROW',\n  'SPRINKLER',\n])\n\n/**\n * @property farmhand.module:enums.genders\n * @enum {string}\n */\nexport const genders = enumify(['FEMALE', 'MALE'])\n\n/**\n * @property farmhand.module:enums.cowColors\n * @enum {string}\n */\nexport const cowColors = enumify([\n  'BLUE',\n  'BROWN',\n  'GREEN',\n  'ORANGE',\n  'PURPLE',\n  'WHITE',\n  'YELLOW',\n])\n\n/**\n * @property farmhand.module:enums.dialogView\n * @enum {string}\n */\nexport const dialogView = enumify([\n  'NONE',\n  'FARMERS_LOG',\n  'PRICE_EVENTS',\n  'ACHIEVEMENTS',\n  'STATS',\n  'ACCOUNTING',\n])\n","import { stageFocusType } from './enums'\n\nconst { freeze } = Object\n\n// This MUST be kept in sync with the $break- variables in variables.sass.\nexport const BREAKPOINTS = {\n  XS: 0,\n  SM: 600,\n  MD: 960,\n  LG: 1280,\n  XL: 1920,\n}\n\nexport const STANDARD_LOAN_AMOUNT = 500\n\nexport const LOAN_GARNISHMENT_RATE = 0.05\nexport const LOAN_INTEREST_RATE = 0.02\n\nexport const FERTILIZER_BONUS = 0.5\nexport const FERTILIZER_ITEM_ID = 'fertilizer'\n\nexport const INITIAL_FIELD_WIDTH = 6\nexport const INITIAL_FIELD_HEIGHT = 10\n\nexport const PURCHASEABLE_FIELD_SIZES = freeze(\n  new Map([\n    [1, { columns: 8, rows: 12, price: 1000 }],\n    [2, { columns: 10, rows: 16, price: 2000 }],\n    [3, { columns: 12, rows: 18, price: 3000 }],\n  ])\n)\n\nexport const PURCHASEABLE_COW_PENS = freeze(\n  new Map([\n    [1, { cows: 10, price: 1500 }],\n    [2, { cows: 20, price: 2500 }],\n    [3, { cows: 30, price: 3500 }],\n  ])\n)\n\n// Buff/nerf chances\nexport const CROW_CHANCE = 0.1\nexport const PRECIPITATION_CHANCE = 0.1\nexport const STORM_CHANCE = 0.5\n\nexport const SCARECROW_ITEM_ID = 'scarecrow'\nexport const SPRINKLER_ITEM_ID = 'sprinkler'\nexport const SPRINKLER_RANGE = 1\n\nexport const COW_STARTING_WEIGHT_BASE = 1800\nexport const COW_STARTING_WEIGHT_VARIANCE = 200\n\nexport const MAX_ANIMAL_NAME_LENGTH = 30\n\nexport const MALE_COW_WEIGHT_MULTIPLIER = 1.1\n\nexport const COW_HUG_BENEFIT = 0.05\nexport const MAX_DAILY_COW_HUG_BENEFITS = 3\n\nexport const COW_WEIGHT_MULTIPLIER_FEED_BENEFIT = 0.1\nexport const COW_WEIGHT_MULTIPLIER_MINIMUM = 0.5\nexport const COW_WEIGHT_MULTIPLIER_MAXIMUM = 1.5\n\nexport const COW_MILK_RATE_SLOWEST = 5\nexport const COW_MILK_RATE_FASTEST = 0\n\nexport const COW_FEED_ITEM_ID = 'cow-feed'\n\nexport const COW_MAXIMUM_AGE_VALUE_DROPOFF = 100\nexport const COW_MINIMUM_VALUE_MULTIPLIER = 0.5\nexport const COW_MAXIMUM_VALUE_MULTIPLIER = 1.5\n\nexport const NOTIFICATION_DURATION = 6000\nexport const NOTIFICATION_LOG_SIZE = 14\n\nexport const PRICE_EVENT_CHANCE = 0.2\nexport const PRICE_EVENT_STANDARD_DURATION_DECREASE = 1\n\nexport const STAGE_TITLE_MAP = {\n  [stageFocusType.HOME]: 'Home',\n  [stageFocusType.FIELD]: 'Field',\n  [stageFocusType.SHOP]: 'Shop',\n  [stageFocusType.COW_PEN]: 'Cows',\n  [stageFocusType.KITCHEN]: 'Kitchen',\n}\n\n// The number here is somewhat arbitrary and tuned to the UX and rounding\n// behavior of react-zoom-pan-pinch.\nexport const FIELD_ZOOM_SCALE_DISABLE_SWIPE_THRESHOLD = 1.1\n","/**\n * @module farmhand.items\n */\n\nimport { cropLifeStage, cropType, fieldMode, itemType } from '../enums'\nimport {\n  COW_FEED_ITEM_ID,\n  FERTILIZER_ITEM_ID,\n  SPRINKLER_RANGE,\n} from '../constants'\n\nconst { freeze } = Object\nconst { CARROT, PUMPKIN, SPINACH } = cropType\nconst { SEED, GROWING } = cropLifeStage\nconst { COW_FEED, CROP, FERTILIZER, MILK, SCARECROW, SPRINKLER } = itemType\n\n////////////////////////////////////////\n//\n// CROPS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.carrotSeed\n * @type {farmhand.item}\n */\nexport const carrotSeed = freeze({\n  cropType: CARROT,\n  doesPriceFluctuate: true,\n  enablesFieldMode: fieldMode.PLANT,\n  growsInto: 'carrot',\n  id: 'carrot-seed',\n  isPlantableCrop: true,\n  name: 'Carrot Seed',\n  type: CROP,\n  value: 20,\n})\n\n/**\n * @property farmhand.module:items.carrot\n * @type {farmhand.item}\n */\nexport const carrot = freeze({\n  cropType: CARROT,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 3,\n  },\n  doesPriceFluctuate: true,\n  id: 'carrot',\n  name: 'Carrot',\n  type: CROP,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.pumpkinSeed\n * @type {farmhand.item}\n */\nexport const pumpkinSeed = freeze({\n  cropType: PUMPKIN,\n  doesPriceFluctuate: true,\n  enablesFieldMode: fieldMode.PLANT,\n  growsInto: 'pumpkin',\n  id: 'pumpkin-seed',\n  isPlantableCrop: true,\n  name: 'Pumpkin Seed',\n  type: CROP,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.pumpkin\n * @type {farmhand.item}\n */\nexport const pumpkin = freeze({\n  cropType: PUMPKIN,\n  cropTimetable: {\n    [SEED]: 3,\n    [GROWING]: 5,\n  },\n  doesPriceFluctuate: true,\n  id: 'pumpkin',\n  name: 'Pumpkin',\n  type: CROP,\n  value: 80,\n})\n\n/**\n * @property farmhand.module:items.spinachSeed\n * @type {farmhand.item}\n */\nexport const spinachSeed = freeze({\n  cropType: SPINACH,\n  doesPriceFluctuate: true,\n  enablesFieldMode: fieldMode.PLANT,\n  growsInto: 'spinach',\n  id: 'spinach-seed',\n  isPlantableCrop: true,\n  name: 'Spinach Seed',\n  type: CROP,\n  value: 30,\n})\n\n/**\n * @property farmhand.module:items.spinach\n * @type {farmhand.item}\n */\nexport const spinach = freeze({\n  cropType: SPINACH,\n  cropTimetable: {\n    [SEED]: 2,\n    [GROWING]: 4,\n  },\n  doesPriceFluctuate: true,\n  id: 'spinach',\n  name: 'Spinach',\n  type: CROP,\n  value: 50,\n})\n\n////////////////////////////////////////\n//\n// FIELD TOOLS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.fertilizer\n * @type {farmhand.item}\n */\nexport const fertilizer = freeze({\n  description: 'Helps crops grow and mature a little faster.',\n  enablesFieldMode: fieldMode.FERTILIZE,\n  id: FERTILIZER_ITEM_ID,\n  name: 'Fertilizer',\n  type: FERTILIZER,\n  value: 60,\n})\n\n/**\n * @property farmhand.module:items.sprinkler\n * @type {farmhand.item}\n */\nexport const sprinkler = freeze({\n  description: 'Automatically waters adjacent plants every day.',\n  enablesFieldMode: fieldMode.SET_SPRINKLER,\n  hoveredPlotRangeSize: SPRINKLER_RANGE,\n  id: 'sprinkler',\n  isReplantable: true,\n  name: 'Sprinkler',\n  type: SPRINKLER,\n  value: 120,\n})\n\n/**\n * @property farmhand.module:items.scarecrow\n * @type {farmhand.item}\n */\nexport const scarecrow = freeze({\n  description:\n    'Prevents crows from eating your crops. One scarecrow covers an entire field, but they are afraid of storms.',\n  enablesFieldMode: fieldMode.SET_SCARECROW,\n  id: 'scarecrow',\n  isReplantable: true,\n  name: 'Scarecrow',\n  type: SCARECROW,\n  value: 160,\n})\n\n////////////////////////////////////////\n//\n// COW ITEMS\n//\n////////////////////////////////////////\n\n/**\n * @property farmhand.module:items.cowFeed\n * @type {farmhand.item}\n */\nexport const cowFeed = freeze({\n  id: COW_FEED_ITEM_ID,\n  name: 'Cow Feed',\n  type: COW_FEED,\n  value: 5,\n})\n\n/**\n * @property farmhand.module:items.milk1\n * @type {farmhand.item}\n */\nexport const milk1 = freeze({\n  id: 'milk-1',\n  name: 'Grade C Milk',\n  type: MILK,\n  value: 40,\n})\n\n/**\n * @property farmhand.module:items.milk2\n * @type {farmhand.item}\n */\nexport const milk2 = freeze({\n  id: 'milk-2',\n  name: 'Grade B Milk',\n  type: MILK,\n  value: 80,\n})\n\n/**\n * @property farmhand.module:items.milk3\n * @type {farmhand.item}\n */\nexport const milk3 = freeze({\n  id: 'milk-3',\n  name: 'Grade A Milk',\n  type: MILK,\n  value: 120,\n})\n","import {\n  // Plantable crops\n  carrotSeed,\n  spinachSeed,\n  pumpkinSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n} from './items'\n\nexport default [\n  // Plantable crops\n  carrotSeed,\n  spinachSeed,\n  pumpkinSeed,\n\n  // Field items\n  fertilizer,\n  scarecrow,\n  sprinkler,\n]\n","// Adapted from https://simple.wikipedia.org/wiki/List_of_fruits\nexport default [\n  'Akee',\n  'Apple',\n  'Apricot',\n  'Avocado',\n  'Aa',\n  'Banana',\n  'Bilberry',\n  'Blackberry',\n  'Blackcurrant',\n  'Blueberry',\n  'Boysenberry',\n  'Cantaloupe',\n  'Cherimoya',\n  'Cherry',\n  'Chico',\n  'Clementine',\n  'Cloudberry',\n  'Coconut',\n  'Crabapple',\n  'Cranberry',\n  'Cucumber',\n  'Currant',\n  'Damson',\n  'Durian',\n  'Elderberry',\n  'Feijoa',\n  'Fig',\n  'Goji',\n  'Gooseberry',\n  'Grape',\n  'Grapefruit',\n  'Guava',\n  'Honeyberry',\n  'Honeydew',\n  'Huckleberry',\n  'Jabuticaba',\n  'Jackfruit',\n  'Jambul',\n  'Jostaberry',\n  'Jujube',\n  'Juniper',\n  'Kiwano',\n  'Kiwi',\n  'Kumquat',\n  'Lemon',\n  'Lime',\n  'Longan',\n  'Loquat',\n  'Lychee',\n  'Mandarine',\n  'Mango',\n  'Mangosteen',\n  'Marion',\n  'Melon',\n  'Mulberry',\n  'Nance',\n  'Nectarine',\n  'Olive',\n  'Orange',\n  'Papaya',\n  'Peach',\n  'Pear',\n  'Persimmon',\n  'Pineapple',\n  'Pineberry',\n  'Pitaya',\n  'Plantain',\n  'Plum',\n  'Plumcot',\n  'Pomegranate',\n  'Pomelo',\n  'Prune',\n  'Pumpkin',\n  'Quince',\n  'Raisin',\n  'Rambutan',\n  'Raspberry',\n  'Salak',\n  'Salal',\n  'Salmonberry',\n  'Sapote',\n  'Satsuma',\n  'Soursop',\n  'Strawberry',\n  'Surinam',\n  'Tamarillo',\n  'Tamarind',\n  'Tangerine',\n  'Tomato',\n  'Watermelon',\n  'Yuzu',\n  'Zucchini',\n]\n","import * as items from '../data/items'\nimport * as recipes from '../data/recipes'\nimport { cropType } from '../enums'\n\nconst { CARROT, PUMPKIN, SPINACH } = cropType\n\nexport const recipesMap = Object.keys(recipes).reduce((acc, recipeName) => {\n  const recipe = recipes[recipeName]\n  acc[recipe.id] = recipe\n  return acc\n}, {})\n\nexport const itemsMap = {\n  ...Object.keys(items).reduce((acc, itemName) => {\n    const item = items[itemName]\n    acc[item.id] = item\n    return acc\n  }, {}),\n  ...recipesMap,\n}\n\nexport const cropIdToTypeMap = {\n  [CARROT]: 'carrot',\n  [PUMPKIN]: 'pumpkin',\n  [SPINACH]: 'spinach',\n}\n","import { cowColors } from '../enums'\n\nexport const pixel = require('./pixel.png')\n\nexport const plotStates = {\n  'watered-plot': require('./plot-states/watered-plot.png'),\n  'fertilized-plot': require('./plot-states/fertilized-plot.png'),\n}\n\nexport const dishes = {\n  'carrot-soup': require('./dishes/carrot-soup.png'),\n}\n\nexport const items = {\n  // Crops\n  carrot: require('./items/carrot.png'),\n  'carrot-growing': require('./items/carrot-growing.png'),\n  'carrot-seed': require('./items/carrot-seed.png'),\n\n  pumpkin: require('./items/pumpkin.png'),\n  'pumpkin-growing': require('./items/pumpkin-growing.png'),\n  'pumpkin-seed': require('./items/pumpkin-seed.png'),\n\n  spinach: require('./items/spinach.png'),\n  'spinach-growing': require('./items/spinach-growing.png'),\n  'spinach-seed': require('./items/spinach-seed.png'),\n\n  // Field tools\n  fertilizer: require('./items/fertilizer.png'),\n  scarecrow: require('./items/scarecrow.png'),\n  sprinkler: require('./items/sprinkler.png'),\n\n  // Cow items\n  'cow-feed': require('./items/cow-feed.png'),\n  'milk-1': require('./items/milk-1.png'),\n  'milk-2': require('./items/milk-2.png'),\n  'milk-3': require('./items/milk-3.png'),\n\n  ...dishes,\n}\n\nexport const tools = {\n  hoe: require('./tools/hoe.png'),\n  scythe: require('./tools/scythe.png'),\n  'watering-can': require('./tools/watering-can.png'),\n}\n\nexport const animals = {\n  cow: Object.values(cowColors).reduce((acc, color) => {\n    const lowerCaseColor = color.toLowerCase()\n    acc[lowerCaseColor] = require(`./animals/cows/${lowerCaseColor}-cow.png`)\n    return acc\n  }, {}),\n}\n","import Dinero from 'dinero.js'\nimport memoize from 'fast-memoize'\nimport sortBy from 'lodash.sortby'\n\nimport shopInventory from './data/shop-inventory'\nimport fruitNames from './data/fruit-names'\nimport { cropIdToTypeMap, itemsMap } from './data/maps'\nimport { milk1, milk2, milk3 } from './data/items'\nimport { items as itemImages } from './img'\nimport { cowColors, cropLifeStage, genders, itemType } from './enums'\nimport {\n  BREAKPOINTS,\n  COW_MAXIMUM_AGE_VALUE_DROPOFF,\n  COW_MAXIMUM_VALUE_MULTIPLIER,\n  COW_MILK_RATE_FASTEST,\n  COW_MILK_RATE_SLOWEST,\n  COW_MINIMUM_VALUE_MULTIPLIER,\n  COW_STARTING_WEIGHT_BASE,\n  COW_STARTING_WEIGHT_VARIANCE,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  INITIAL_FIELD_HEIGHT,\n  INITIAL_FIELD_WIDTH,\n  MALE_COW_WEIGHT_MULTIPLIER,\n  PRICE_EVENT_STANDARD_DURATION_DECREASE,\n} from './constants'\n\nconst { SEED, GROWING, GROWN } = cropLifeStage\n\nconst shopInventoryMap = shopInventory.reduce((acc, item) => {\n  acc[item.id] = item\n  return acc\n}, {})\n\nconst chooseRandom = list => list[Math.round(Math.random() * (list.length - 1))]\n\n// Ensures that the condition argument to memoize() is not ignored, per\n// https://github.com/caiogondim/fast-memoize.js#function-arguments\n//\n// Pass this is the `serializer` option to any memoize()-ed functions that\n// accept function arguments.\nconst memoizationSerializer = args =>\n  JSON.stringify(\n    [...args].map(arg => (typeof arg === 'function' ? arg.toString() : arg))\n  )\n\n/**\n * @returns {string}\n */\nconst createUniqueId = () => btoa(Math.random() + Date.now())\n\n/**\n * @param {number} num\n * @param {number} min\n * @param {number} max\n */\nexport const clampNumber = (num, min, max) =>\n  num <= min ? min : num >= max ? max : num\n\nexport const castToMoney = num => Math.round(num * 100) / 100\n\n/**\n * Safely adds dollar figures to avoid IEEE 754 rounding errors.\n * @param {...number} num Numbers that represent money values.\n * @returns {number}\n * @see http://adripofjavascript.com/blog/drips/avoiding-problems-with-decimal-math-in-javascript.html\n */\nexport const moneyTotal = (...args) =>\n  args.reduce((sum, num) => (sum += Math.round(num * 100)), 0) / 100\n\n/**\n * Based on https://stackoverflow.com/a/14224813/470685\n * @param {number} value Number to scale\n * @param {number} min Non-standard minimum\n * @param {number} max Non-standard maximum\n * @param {number} baseMin Standard minimum\n * @param {number} baseMax Standard maximum\n * @returns {number}\n */\nconst scaleNumber = (value, min, max, baseMin, baseMax) =>\n  ((value - min) * (baseMax - baseMin)) / (max - min) + baseMin\n\nexport const createNewField = () =>\n  new Array(INITIAL_FIELD_HEIGHT)\n    .fill(undefined)\n    .map(() => new Array(INITIAL_FIELD_WIDTH).fill(null))\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting, as well as cents.\n */\nexport const moneyString = number =>\n  Dinero({ amount: Math.round(number * 100) }).toFormat()\n\n/**\n * @param {number} number\n * @param {string} format\n * @see https://dinerojs.com/module-dinero#~toFormat\n * @returns {string}\n */\nconst formatNumber = (number, format) =>\n  Dinero({ amount: Math.round(number * 100), precision: 2 })\n    .convertPrecision(0)\n    .toFormat(format)\n\n/**\n * @param {number} number\n * @returns {string} Include dollar sign and other formatting. Cents are\n * rounded off.\n */\nexport const dollarString = number => formatNumber(number, '$0,0')\n\n/**\n * @param {number} number\n * @returns {string} Number string with commas.\n */\nexport const integerString = number => formatNumber(number, '0,0')\n\n/**\n * @param {farmhand.item} item\n * @param {Object.<number>} valueAdjustments\n * @returns {number}\n */\nexport const getItemValue = ({ id }, valueAdjustments) =>\n  Dinero({\n    amount: Math.round(\n      (valueAdjustments[id]\n        ? itemsMap[id].value *\n          (itemsMap[id].doesPriceFluctuate ? valueAdjustments[id] : 1)\n        : itemsMap[id].value) * 100\n    ),\n    precision: 2,\n  }).toUnit()\n\n/**\n * @param {Object} valueAdjustments\n * @param {string} itemId\n * @returns {number} Rounded to a money value.\n */\nexport const getAdjustedItemValue = (valueAdjustments, itemId) =>\n  Number(((valueAdjustments[itemId] || 1) * itemsMap[itemId].value).toFixed(2))\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemSoldInShop = ({ id }) => Boolean(shopInventoryMap[id])\n\n/**\n * @param {farmhand.item} item\n * @returns {number}\n */\nexport const getResaleValue = ({ id }) => itemsMap[id].value / 2\n\n/**\n * @param {string} itemId\n * @returns {farmhand.crop}\n */\nexport const getCropFromItemId = itemId => ({\n  ...getPlotContentFromItemId(itemId),\n  daysOld: 0,\n  daysWatered: 0,\n  isFertilized: false,\n  wasWateredToday: false,\n})\n\n/**\n * @param {string} itemId\n * @returns {farmhand.plotContent}\n */\nexport const getPlotContentFromItemId = itemId => ({\n  itemId,\n})\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {string}\n */\nexport const getPlotContentType = ({ itemId }) => itemsMap[itemId].type\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nexport const doesPlotContainCrop = plot =>\n  plot && getPlotContentType(plot) === itemType.CROP\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAGrownCrop = item =>\n  Boolean(item.type === itemType.CROP && item.cropTimetable)\n\n/**\n * @param {farmhand.item} item\n * @returns {boolean}\n */\nexport const isItemAFarmProduct = item =>\n  Boolean(isItemAGrownCrop(item) || item.type === itemType.MILK)\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const getCropId = ({ itemId }) =>\n  cropIdToTypeMap[itemsMap[itemId].cropType]\n\n/**\n * @param {farmhand.crop} crop\n * @returns {number}\n */\nexport const getCropLifecycleDuration = memoize(({ cropTimetable }) =>\n  Object.values(cropTimetable).reduce((acc, value) => acc + value, 0)\n)\n\n/**\n * @param {farmhand.cropTimetable} cropTimetable\n * @returns {Array.<enums.cropLifeStage>}\n */\nexport const getLifeStageRange = memoize(cropTimetable =>\n  [SEED, GROWING].reduce(\n    (acc, stage) => acc.concat(Array(cropTimetable[stage]).fill(stage)),\n    []\n  )\n)\n\n/**\n * @param {farmhand.crop} crop\n * @returns {enums.cropLifeStage}\n */\nexport const getCropLifeStage = ({ itemId, daysWatered }) =>\n  getLifeStageRange(itemsMap[itemId].cropTimetable)[Math.floor(daysWatered)] ||\n  GROWN\n\nconst cropLifeStageToImageSuffixMap = {\n  [SEED]: 'seed',\n  [GROWING]: 'growing',\n}\n\n/**\n * @param {farmhand.plotContent} plotContent\n * @returns {?string}\n */\nexport const getPlotImage = plotContent =>\n  plotContent\n    ? getPlotContentType(plotContent) === itemType.CROP\n      ? getCropLifeStage(plotContent) === GROWN\n        ? itemImages[getCropId(plotContent)]\n        : itemImages[\n            `${getCropId(plotContent)}-${\n              cropLifeStageToImageSuffixMap[getCropLifeStage(plotContent)]\n            }`\n          ]\n      : itemImages[plotContent.itemId]\n    : null\n\n/**\n * @param {number} rangeSize\n * @param {number} centerX\n * @param {number} centerY\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getRangeCoords = (rangeSize, centerX, centerY) => {\n  const squareSize = 2 * rangeSize + 1\n  const rangeStartX = centerX - rangeSize\n  const rangeStartY = centerY - rangeSize\n\n  return new Array(squareSize)\n    .fill()\n    .map((_, y) =>\n      new Array(squareSize)\n        .fill()\n        .map((_, x) => ({ x: rangeStartX + x, y: rangeStartY + y }))\n    )\n}\n\n/**\n * @param {string} seedItemId\n * @returns {string}\n */\nexport const getFinalCropItemIdFromSeedItemId = seedItemId =>\n  itemsMap[seedItemId].growsInto\n\n/**\n * @param {farmhand.item} seedItem\n * @returns {farmhand.item}\n */\nexport const getFinalCropItemFromSeedItem = ({ id }) =>\n  itemsMap[getFinalCropItemIdFromSeedItemId(id)]\n\n/**\n * @param {farmhand.priceEvent} priceCrashes\n * @param {farmhand.priceEvent} priceSurges\n * @returns {Object}\n */\nexport const generateValueAdjustments = (priceCrashes, priceSurges) =>\n  Object.keys(itemsMap).reduce((acc, key) => {\n    if (itemsMap[key].doesPriceFluctuate) {\n      if (priceCrashes[key]) {\n        acc[key] = 0.5\n      } else if (priceSurges[key]) {\n        acc[key] = 1.5\n      } else {\n        acc[key] = Math.random() + 0.5\n      }\n    }\n\n    return acc\n  }, {})\n\n/**\n * Generates a friendly cow.\n * @param {Object} [options]\n * @returns {farmhand.cow}\n */\nexport const generateCow = (options = {}) => {\n  const gender = options.gender || chooseRandom(Object.values(genders))\n\n  const baseWeight = Math.round(\n    COW_STARTING_WEIGHT_BASE *\n      (gender === genders.MALE ? MALE_COW_WEIGHT_MULTIPLIER : 1) -\n      COW_STARTING_WEIGHT_VARIANCE +\n      Math.random() * (COW_STARTING_WEIGHT_VARIANCE * 2)\n  )\n\n  return {\n    baseWeight,\n    color: chooseRandom(Object.values(cowColors)),\n    daysOld: 1,\n    daysSinceMilking: 0,\n    gender,\n    happiness: 0,\n    happinessBoostsToday: 0,\n    id: createUniqueId(),\n    name: chooseRandom(fruitNames),\n    weightMultiplier: 1,\n    ...options,\n  }\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {farmhand.item}\n */\nexport const getCowMilkItem = ({ happiness }) => {\n  if (happiness < 1 / 3) {\n    return milk1\n  } else if (happiness < 2 / 3) {\n    return milk2\n  }\n\n  return milk3\n}\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowMilkRate = cow =>\n  cow.gender === genders.FEMALE\n    ? scaleNumber(\n        cow.weightMultiplier,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM,\n        COW_MILK_RATE_SLOWEST,\n        COW_MILK_RATE_FASTEST\n      )\n    : Infinity\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowWeight = ({ baseWeight, weightMultiplier }) =>\n  Math.round(baseWeight * weightMultiplier)\n\n/**\n * @param {farmhand.cow} cow\n * @returns {number}\n */\nexport const getCowValue = cow =>\n  getCowWeight(cow) *\n  clampNumber(\n    scaleNumber(\n      cow.daysOld,\n      1,\n      COW_MAXIMUM_AGE_VALUE_DROPOFF,\n      COW_MAXIMUM_VALUE_MULTIPLIER,\n      COW_MINIMUM_VALUE_MULTIPLIER\n    ),\n    COW_MINIMUM_VALUE_MULTIPLIER,\n    COW_MAXIMUM_VALUE_MULTIPLIER\n  )\n\n/**\n * @param {farmhand.recipe} recipe\n * @param {Array.<farmhand.item>} inventory\n * @returns {boolean}\n */\nexport const canMakeRecipe = memoize(({ ingredients }, inventory) => {\n  const inventoryQuantityMap = inventory.reduce((acc, { id, quantity }) => {\n    acc[id] = quantity\n    return acc\n  }, {})\n\n  return Object.keys(ingredients).every(\n    itemId => inventoryQuantityMap[itemId] >= ingredients[itemId]\n  )\n})\n\n/**\n * @type {Array.<farmhand.item>}\n */\nconst finalStageCropItemList = Object.keys(itemsMap).reduce((acc, itemId) => {\n  const item = itemsMap[itemId]\n\n  if (isItemAGrownCrop(item)) {\n    acc.push(item)\n  }\n\n  return acc\n}, [])\n\n/**\n * @returns {farmhand.item} A final stage, non-seed item.\n */\nexport const getRandomCropItem = () =>\n  finalStageCropItemList[\n    Math.floor(Math.random() * finalStageCropItemList.length)\n  ]\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {farmhand.priceEvent}\n */\nexport const getPriceEventForCrop = cropItem => ({\n  itemId: cropItem.id,\n  daysRemaining:\n    getCropLifecycleDuration(cropItem) - PRICE_EVENT_STANDARD_DURATION_DECREASE,\n})\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} condition\n * @returns {?farmhand.plotContent}\n */\nexport const findInField = memoize(\n  (field, condition) => field.find(row => row.find(condition)) || null,\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n// This is currently unused, but it could be useful later.\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {function(?farmhand.plotContent)} filterCondition\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nexport const getCrops = memoize(\n  (field, filterCondition) =>\n    field.reduce((acc, row) => {\n      acc.push(...row.filter(filterCondition))\n\n      return acc\n    }, []),\n  {\n    serializer: memoizationSerializer,\n  }\n)\n\n/**\n * @returns {boolean}\n */\nexport const doesMenuObstructStage = () => window.screen.width < BREAKPOINTS.SM\n\nconst itemTypesToShowInReverse = new Set([itemType.MILK])\n\nconst sortItemIdsByTypeAndValue = memoize(itemIds =>\n  sortBy(itemIds, [\n    id => Number(itemsMap[id].type !== itemType.CROP),\n    id => {\n      const { type, value } = itemsMap[id]\n      return itemTypesToShowInReverse.has(type) ? -value : value\n    },\n  ])\n)\n\n/**\n * @param {Array.<farmhand.item>} items\n * @return {Array.<farmhand.item>}\n */\nexport const sortItems = items => {\n  const map = {}\n  items.forEach(item => (map[item.id] = item))\n\n  return sortItemIdsByTypeAndValue(items.map(({ id }) => id)).map(id => map[id])\n}\n","import { moneyTotal } from './utils'\nimport { FIELD_ZOOM_SCALE_DISABLE_SWIPE_THRESHOLD } from './constants'\nimport { dialogView, fieldMode } from './enums'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nconst toolbeltFieldModes = [CLEANUP, HARVEST, WATER]\n\nexport default {\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemPurchaseClick(item, howMany = 1) {\n    this.purchaseItem(item, howMany)\n  },\n\n  /**\n   * @param {farmhand.recipe} recipe\n   */\n  handleMakeRecipeClick(recipe) {\n    this.makeRecipe(recipe)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowPurchaseClick(cow) {\n    this.purchaseCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowSellClick(cow) {\n    this.sellCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow} cow\n   */\n  handleCowHugClick(cow) {\n    this.hugCow(cow.id)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   * @param {farmhand.cow} cow\n   */\n  handleCowNameInputChange({ target: { value } }, cow) {\n    this.changeCowName(cow.id, value)\n  },\n\n  /**\n   * @param {farmhand.item} item\n   * @param {number} [howMany=1]\n   */\n  handleItemSellClick(item, howMany = 1) {\n    this.sellItem(item, howMany)\n  },\n\n  /**\n   * @param {external:React.SyntheticEvent} e\n   */\n  handleViewChange({ target: { value } }) {\n    this.setState({ stageFocus: value })\n  },\n\n  /**\n   * @param {farmhand.module:enums.fieldMode} fieldMode\n   */\n  handleFieldModeSelect(fieldMode) {\n    this.setState(({ selectedItemId }) => ({\n      selectedItemId:\n        fieldMode !== PLANT || toolbeltFieldModes.includes(fieldMode)\n          ? ''\n          : selectedItemId,\n      fieldMode,\n    }))\n  },\n\n  handleHarvestAllClick() {\n    this.harvestAll()\n  },\n\n  handleItemSelectClick({ id, enablesFieldMode, hoveredPlotRangeSize = 0 }) {\n    this.setState({\n      fieldMode: enablesFieldMode,\n      hoveredPlotRangeSize,\n      selectedItemId: id,\n    })\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   */\n  handlePlotClick(x, y) {\n    const { selectedItemId, fieldMode } = this.state\n\n    if (fieldMode === PLANT) {\n      this.plantInPlot(x, y, selectedItemId)\n    } else if (fieldMode === HARVEST) {\n      this.harvestPlot(x, y)\n    } else if (fieldMode === CLEANUP) {\n      this.clearPlot(x, y)\n    } else if (fieldMode === WATER) {\n      this.waterPlot(x, y)\n    } else if (fieldMode === FERTILIZE) {\n      this.fertilizeCrop(x, y)\n    } else if (fieldMode === SET_SPRINKLER) {\n      this.setSprinkler(x, y)\n    } else if (fieldMode === SET_SCARECROW) {\n      this.setScarecrow(x, y)\n    }\n  },\n\n  handleClickEndDayButton() {\n    this.incrementDay()\n  },\n\n  /**\n   * @param {number} amount\n   */\n  handleAddMoneyClick(amount) {\n    this.setState(({ money }) => ({ money: moneyTotal(money, amount) }))\n  },\n\n  handleClearPersistedDataClick() {\n    this.clearPersistedData()\n  },\n\n  handleWaterAllPlotsClick() {\n    this.waterAllPlots(this.state)\n  },\n\n  /**\n   * @param {number} fieldId\n   */\n  handleFieldPurchase(fieldId) {\n    this.purchaseField(fieldId)\n  },\n\n  /**\n   * @param {number} cowPenId\n   */\n  handleCowPenPurchase(cowPenId) {\n    this.purchaseCowPen(cowPenId)\n  },\n\n  /**\n   * @param {boolean} [setOpen]\n   */\n  handleMenuToggle(setOpen = null) {\n    this.setState(({ isMenuOpen }) => ({\n      isMenuOpen: setOpen === null ? !isMenuOpen : setOpen,\n    }))\n  },\n\n  handleClickNextMenuButton() {\n    this.focusNextView()\n  },\n\n  handleClickPreviousMenuButton() {\n    this.focusPreviousView()\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowSelect(cow) {\n    this.selectCow(cow)\n  },\n\n  /**\n   * @param {farmhand.cow}\n   */\n  handleCowClick(cow) {\n    this.selectCow(cow)\n    this.hugCow(cow.id)\n  },\n\n  handleCloseNotification(event, reason) {\n    if (reason === 'clickaway') {\n      return\n    }\n\n    this.setState(() => ({ doShowNotifications: false }))\n  },\n\n  handleNotificationClick() {\n    this.setState(() => ({ doShowNotifications: false }))\n  },\n\n  handleNotificationExited() {\n    this.setState({ notifications: [] })\n  },\n\n  /**\n   * @param {farmhand.module:enums.dialogView} dialogView\n   */\n  handleClickDialogViewButton(dialogView) {\n    this.setState({ currentDialogView: dialogView })\n  },\n\n  handleCloseDialogView() {\n    this.setState({ currentDialogView: dialogView.NONE })\n  },\n\n  /**\n   * @param {number} paydownAmount\n   */\n  handleClickLoanPaydownButton(paydownAmount) {\n    this.adjustLoan(-paydownAmount)\n  },\n\n  /**\n   * @param {number} loanAmount\n   */\n  handleClickTakeOutLoanButton(loanAmount) {\n    this.adjustLoan(loanAmount)\n  },\n\n  /**\n   * @param {Object} event\n   * @see https://github.com/FormidableLabs/react-swipeable#event-data\n   */\n  handleSwipe({ event, initial: [startX], dir }) {\n    if (dir === 'Left') {\n      if (this.state.isMenuOpen) {\n        this.handlers.handleMenuToggle(false)\n      } else {\n        if (!this.state.blockSwipeNavigation) {\n          this.focusNextView()\n        }\n      }\n    } else if (dir === 'Right') {\n      if (!this.state.isMenuOpen) {\n        if (startX < window.screen.width * 0.15) {\n          this.handlers.handleMenuToggle(true)\n        } else {\n          if (!this.state.blockSwipeNavigation) {\n            this.focusPreviousView()\n          }\n        }\n      }\n    }\n  },\n\n  /**\n   * @param {number} newScale\n   */\n  handleFieldZoom(newScale) {\n    this.setState(() => ({\n      blockSwipeNavigation:\n        newScale >= FIELD_ZOOM_SCALE_DISABLE_SWIPE_THRESHOLD,\n    }))\n  },\n}\n","import memoize from 'fast-memoize'\n\nimport {\n  findInField,\n  getCropLifeStage,\n  doesPlotContainCrop,\n  dollarString,\n  moneyTotal,\n} from '../utils'\nimport { cowColors, cropLifeStage } from '../enums'\nimport { COW_FEED_ITEM_ID } from '../constants'\nimport { addItemToInventory } from '../reducers'\n\nimport { itemsMap } from './maps'\n\nconst { SEED } = cropLifeStage\n\nconst addMoney = (state, reward) => ({\n  ...state,\n  money: moneyTotal(state.money, reward),\n})\n\nconst sumOfCropsHarvested = memoize(cropsHarvested =>\n  Object.values(cropsHarvested).reduce(\n    (sum, cropHarvested) => sum + cropHarvested,\n    0\n  )\n)\n\nconst cowFeed = itemsMap[COW_FEED_ITEM_ID]\n\nconst achievements = [\n  ((reward = 100) => ({\n    id: 'plant-crop',\n    name: 'Plant a Crop',\n    description: 'Purchase a seed and plant it in the field.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && getCropLifeStage(plot) === SEED\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 150) => ({\n    id: 'water-crop',\n    name: 'Water a Crop',\n    description: 'Water a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state =>\n      findInField(\n        state.field,\n        plot => doesPlotContainCrop(plot) && plot.wasWateredToday\n      ),\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((reward = 200) => ({\n    id: 'harvest-crop',\n    name: 'Harvest a Crop',\n    description: 'Harvest a crop that you planted.',\n    rewardDescription: dollarString(reward),\n    condition: state => sumOfCropsHarvested(state.cropsHarvested) >= 1,\n    reward: state => addMoney(state, reward),\n  }))(),\n\n  ((goal = 15) => ({\n    id: 'master-harvester',\n    name: 'Master Harvester',\n    description: `Harvest ${goal} crops to prove you've mastered the art of the harvest.`,\n    rewardDescription: 'The \"Harvest All\" skill',\n    condition: state => sumOfCropsHarvested(state.cropsHarvested) >= goal,\n    reward: state => state,\n  }))(),\n\n  ((goal = 10000) => ({\n    id: 'unlock-crop-price-guide',\n    name: 'Prove Yourself as a Farmer',\n    description: `Show that you can run a farm by earning at least ${dollarString(\n      goal\n    )}. Proven farmers get access to the Crop Price Guide, an invaluable tool for making better buying and selling decisions!`,\n    rewardDescription: 'Crop Price Guide',\n    condition: state => state.revenue >= goal,\n    // Reward is a no-op for this achievement. The value of\n    // state.completedAchievements['unlock-crop-price-guide'] (which is\n    // automatically set to `true` in the achievement processing logic) is used\n    // to gate the price guides.\n    reward: state => state,\n  }))(),\n\n  ((reward = 15) => ({\n    id: 'purchase-cow-pen',\n    name: 'Purchase a Cow Pen',\n    description:\n      'Construct any size cow pen to let your bovine buddies moo-ve on in!',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state => state.purchasedCowPen > 0,\n    reward: state => addItemToInventory(state, cowFeed, reward),\n  }))(),\n\n  ((reward = 100) => ({\n    id: 'purchase-all-cow-colors',\n    name: 'Cows of Many Colors',\n    description: 'Show that you love all cows and purchase one of every color.',\n    rewardDescription: `${reward} units of ${cowFeed.name}`,\n    condition: state =>\n      Object.values(cowColors).every(\n        color => state.cowColorsPurchased[color] > 0\n      ),\n    reward: state => addItemToInventory(state, cowFeed, reward),\n  }))(),\n]\n\nexport default achievements\n\nexport const achievementsMap = achievements.reduce((acc, achievement) => {\n  acc[achievement.id] = achievement\n\n  return acc\n}, {})\n","import { moneyString } from './utils'\n\n/**\n * @param {farmhand.crop} crop\n * @returns {string}\n */\nexport const CROW_ATTACKED = (_, crop) => `Oh no a crow ate your ${crop.name}!`\n\n/**\n * @param {number} cows\n * @returns {string}\n */\nexport const COW_PEN_PURCHASED = (_, cows) =>\n  `Purchased a cow pen with capacity for ${cows} cows! You can visit your cow pen by going to the \"Cows\" page.`\n\n/**\n * @param {farmhand.cow} cow\n * @param {farmhand.item} milk\n * @returns {string}\n */\nexport const MILK_PRODUCED = (_, cow, milk) =>\n  `${cow.name} produced a ${milk.name} for you!`\n\n/**\n * @param {farmhand.recipe} recipe\n * @returns {string}\n */\nexport const RECIPE_LEARNED = (_, recipe) =>\n  `You learned how to make ${recipe.name}!`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_CRASH = (_, { name }) =>\n  `${name} prices have bottomed out! Avoid selling them until prices return to normal.`\n\n/**\n * @param {farmhand.item} cropItem\n * @returns {string}\n */\nexport const PRICE_SURGE = (_, { name }) =>\n  `${name} prices are at their peak! Now is the time to sell!`\n\n/**\n * @param {farmhand.achievement} achievement\n * @returns {string}\n */\nexport const ACHIEVEMENT_COMPLETED = (_, { name, rewardDescription }) =>\n  `You achieved \"${name}!\" Way to go!\n\nYou earned: ${rewardDescription}`\n\n/**\n * @returns {string}\n */\nexport const LOAN_PAYOFF = () =>\n  `You paid off your loan to the bank! You're finally free!`\n\n/**\n * @param {number} loanBalance\n * @returns {string}\n */\nexport const LOAN_INCREASED = (_, loanBalance) =>\n  `You took out a new loan. Your current balance is ${moneyString(\n    loanBalance\n  )}.`\n\n/**\n * @param {number} loanBalance\n * @returns {string}\n */\nexport const LOAN_BALANCE_NOTIFICATION = (_, loanBalance) =>\n  `Your loan balance has grown to ${moneyString(loanBalance)}.`\n","import { itemsMap, recipesMap } from './data/maps'\nimport achievements from './data/achievements'\nimport {\n  canMakeRecipe,\n  castToMoney,\n  clampNumber,\n  findInField,\n  generateCow,\n  generateValueAdjustments,\n  getAdjustedItemValue,\n  getResaleValue,\n  getCowMilkItem,\n  getCowMilkRate,\n  getCowValue,\n  getCropFromItemId,\n  getCropLifeStage,\n  getFinalCropItemIdFromSeedItemId,\n  getPlotContentFromItemId,\n  getPlotContentType,\n  getPriceEventForCrop,\n  getRandomCropItem,\n  getRangeCoords,\n  isItemAFarmProduct,\n  isItemSoldInShop,\n  moneyTotal,\n} from './utils'\nimport {\n  COW_FEED_ITEM_ID,\n  COW_HUG_BENEFIT,\n  COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n  COW_WEIGHT_MULTIPLIER_MAXIMUM,\n  COW_WEIGHT_MULTIPLIER_MINIMUM,\n  CROW_CHANCE,\n  FERTILIZER_BONUS,\n  FERTILIZER_ITEM_ID,\n  LOAN_GARNISHMENT_RATE,\n  LOAN_INTEREST_RATE,\n  MAX_ANIMAL_NAME_LENGTH,\n  MAX_DAILY_COW_HUG_BENEFITS,\n  NOTIFICATION_LOG_SIZE,\n  PRICE_EVENT_CHANCE,\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n  PRECIPITATION_CHANCE,\n  SCARECROW_ITEM_ID,\n  SPRINKLER_ITEM_ID,\n  SPRINKLER_RANGE,\n  STORM_CHANCE,\n} from './constants'\nimport {\n  RAIN_MESSAGE,\n  STORM_MESSAGE,\n  STORM_DESTROYS_SCARECROWS_MESSAGE,\n} from './strings'\nimport {\n  ACHIEVEMENT_COMPLETED,\n  CROW_ATTACKED,\n  LOAN_BALANCE_NOTIFICATION,\n  LOAN_INCREASED,\n  LOAN_PAYOFF,\n  MILK_PRODUCED,\n  PRICE_CRASH,\n  PRICE_SURGE,\n} from './templates'\nimport { cropLifeStage, fieldMode, itemType } from './enums'\n\nconst { FERTILIZE, OBSERVE, SET_SCARECROW, SET_SPRINKLER } = fieldMode\nconst { GROWN } = cropLifeStage\n\n///////////////////////////////////////////////////////////\n//\n// Local helper functions\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {?farmhand.crop} crop\n * @returns {?farmhand.crop}\n */\nexport const incrementCropAge = crop =>\n  crop && {\n    ...crop,\n    daysOld: crop.daysOld + 1,\n    daysWatered:\n      crop.daysWatered +\n      (crop.wasWateredToday\n        ? 1 + (crop.isFertilized ? FERTILIZER_BONUS : 0)\n        : 0),\n  }\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @param {boolean} wasWateredToday\n * @returns {?farmhand.plotContent}\n */\nconst setWasWateredProperty = (plotContent, wasWateredToday) => {\n  if (plotContent === null) {\n    return null\n  }\n\n  return getPlotContentType(plotContent) === itemType.CROP\n    ? { ...plotContent, wasWateredToday }\n    : { ...plotContent }\n}\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const setWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, true)\n\n/**\n * @param {?farmhand.plotContent} plotContent\n * @returns {?farmhand.plotContent}\n */\nexport const resetWasWatered = plotContent =>\n  setWasWateredProperty(plotContent, false)\n\n/**\n * Invokes a function on every plot in a field.\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {Array.<Array.<?farmhand.plotContent>>}\n */\nconst updateField = (field, modifierFn) =>\n  field.map((row, y) => row.map((plot, x) => modifierFn(plot, x, y)))\n\n/**\n * @param {Array} chancesAndEvents An array of arrays in which the first\n * element is a number and the second number is a function.\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst applyChanceEvent = (chancesAndEvents, state) =>\n  chancesAndEvents.reduce(\n    (acc, [chance, fn]) => (Math.random() <= chance ? fn(acc) : acc),\n    state\n  )\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processWeather = state =>\n  applyChanceEvent([[PRECIPITATION_CHANCE, applyPrecipitation]], state)\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processNerfs = state => applyChanceEvent([[1, applyCrows]], state)\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.priceEvent} priceEvent\n * @param {string} priceEventKey Either 'priceCrashes' or 'priceSurges'\n * @returns {farmhand.state}\n */\nexport const createPriceEvent = (state, priceEvent, priceEventKey) => ({\n  [priceEventKey]: {\n    ...state[priceEventKey],\n    [priceEvent.itemId]: priceEvent,\n  },\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst adjustItemValues = state => ({\n  ...state,\n  valueAdjustments: generateValueAdjustments(\n    state.priceCrashes,\n    state.priceSurges\n  ),\n})\n\n/**\n * @param {?farmhand.plotContent} plot\n * @returns {boolean}\n */\nconst plotContainsScarecrow = plot => plot && plot.itemId === SCARECROW_ITEM_ID\n\n/**\n * @param {Array.<Array.<?farmhand.plotContent>>} field\n * @returns {boolean}\n */\nconst fieldHasScarecrow = field => findInField(field, plotContainsScarecrow)\n\n///////////////////////////////////////////////////////////\n//\n// Exported reducers\n//\n///////////////////////////////////////////////////////////\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyPrecipitation = state => {\n  let { field } = state\n  let notification\n\n  if (Math.random() < STORM_CHANCE) {\n    if (fieldHasScarecrow(field)) {\n      notification = {\n        message: STORM_DESTROYS_SCARECROWS_MESSAGE,\n        severity: 'error',\n      }\n\n      field = updateField(field, plot =>\n        plotContainsScarecrow(plot) ? null : plot\n      )\n    } else {\n      notification = { message: STORM_MESSAGE, severity: 'info' }\n    }\n  } else {\n    notification = { message: RAIN_MESSAGE, severity: 'info' }\n  }\n\n  state = {\n    ...state,\n    field,\n    newDayNotifications: [...state.newDayNotifications, notification],\n  }\n\n  state = waterField(state)\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const applyCrows = state => {\n  const { field } = state\n  const newDayNotifications = [...state.newDayNotifications]\n\n  const updatedField = fieldHasScarecrow(field)\n    ? field\n    : updateField(field, plotContent => {\n        if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n          return plotContent\n        }\n\n        const destroyCrop = Math.random() <= CROW_CHANCE\n\n        if (destroyCrop) {\n          newDayNotifications.push({\n            message: CROW_ATTACKED`${itemsMap[plotContent.itemId]}`,\n            severity: 'error',\n          })\n        }\n\n        return destroyCrop ? null : plotContent\n      })\n\n  return { ...state, field: updatedField, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processSprinklers = state => {\n  const { field } = state\n  const crops = new Map()\n  let modifiedField = [...field]\n\n  field.forEach((row, plotY) => {\n    row.forEach((plot, plotX) => {\n      if (!plot || getPlotContentType(plot) !== itemType.SPRINKLER) {\n        return\n      }\n\n      ;[]\n        .concat(\n          // Flatten this 2D array for less iteration below\n          ...getRangeCoords(SPRINKLER_RANGE, plotX, plotY)\n        )\n        .forEach(({ x, y }) => {\n          const fieldRow = field[y]\n\n          if (!fieldRow) {\n            return\n          }\n\n          const plotContent = fieldRow[x]\n\n          if (\n            plotContent &&\n            getPlotContentType(plotContent) === itemType.CROP\n          ) {\n            if (!crops.has(plotContent)) {\n              modifiedField = modifyFieldPlotAt(\n                { ...state, field: modifiedField },\n                x,\n                y,\n                setWasWatered\n              ).field\n            }\n\n            crops.set(plotContent, { x, y })\n          }\n        })\n    })\n  })\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processFeedingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const { length: cowInventoryLength } = cowInventory\n  let inventory = [...state.inventory]\n\n  const cowFeedInventoryPosition = inventory.findIndex(\n    ({ id }) => id === COW_FEED_ITEM_ID\n  )\n\n  const cowFeed = inventory[cowFeedInventoryPosition]\n  const quantity = cowFeed ? cowFeed.quantity : 0\n\n  let unitsSpent = 0\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n    const anyUnitsRemain = unitsSpent < quantity\n\n    cowInventory[i] = {\n      ...cow,\n      weightMultiplier: clampNumber(\n        anyUnitsRemain\n          ? cow.weightMultiplier + COW_WEIGHT_MULTIPLIER_FEED_BENEFIT\n          : cow.weightMultiplier - COW_WEIGHT_MULTIPLIER_FEED_BENEFIT,\n        COW_WEIGHT_MULTIPLIER_MINIMUM,\n        COW_WEIGHT_MULTIPLIER_MAXIMUM\n      ),\n    }\n\n    if (anyUnitsRemain) {\n      unitsSpent++\n    }\n  }\n\n  return decrementItemFromInventory(\n    { ...state, cowInventory, inventory },\n    COW_FEED_ITEM_ID,\n    unitsSpent\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const processMilkingCows = state => {\n  const cowInventory = [...state.cowInventory]\n  const newDayNotifications = [...state.newDayNotifications]\n  const { length: cowInventoryLength } = cowInventory\n\n  for (let i = 0; i < cowInventoryLength; i++) {\n    const cow = cowInventory[i]\n\n    if (cow.daysSinceMilking > getCowMilkRate(cow)) {\n      cowInventory[i] = { ...cow, daysSinceMilking: 0 }\n\n      const milk = getCowMilkItem(cow)\n      state = addItemToInventory(state, milk)\n      newDayNotifications.push({\n        message: MILK_PRODUCED`${cow}${milk}`,\n        severity: 'success',\n      })\n    }\n  }\n\n  return { ...state, cowInventory, newDayNotifications }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const addItemToInventory = (state, item, howMany = 1) => {\n  const { id } = item\n  const inventory = [...state.inventory]\n\n  const currentItemSlot = inventory.findIndex(({ id: itemId }) => id === itemId)\n\n  if (~currentItemSlot) {\n    const currentItem = inventory[currentItemSlot]\n\n    inventory[currentItemSlot] = {\n      ...currentItem,\n      quantity: currentItem.quantity + howMany,\n    }\n  } else {\n    inventory.push({ id, quantity: howMany })\n  }\n\n  return { ...state, inventory }\n}\n\nconst fieldReducer = (acc, fn) => fn(acc)\nconst fieldUpdaters = [incrementCropAge, resetWasWatered]\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nconst processField = state => ({\n  ...state,\n  field: updateField(state.field, plotContent =>\n    fieldUpdaters.reduce(fieldReducer, plotContent)\n  ),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeCowInventoryForNextDay = state => ({\n  ...state,\n  cowInventory: state.cowInventory.map(cow => ({\n    ...cow,\n    daysOld: cow.daysOld + 1,\n    daysSinceMilking: cow.daysSinceMilking + 1,\n    happiness: Math.max(0, cow.happiness - COW_HUG_BENEFIT),\n    happinessBoostsToday: 0,\n  })),\n})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterField = state => ({\n  ...state,\n  field: updateField(state.field, setWasWatered),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {Function(?farmhand.plotContent)} modifierFn\n * @returns {farmhand.state}\n */\nexport const modifyFieldPlotAt = (state, x, y, modifierFn) => {\n  const { field } = state\n  const row = [...field[y]]\n  const plotContent = modifierFn(row[x])\n  row[x] = plotContent\n  const modifiedField = [...field]\n  modifiedField[y] = row\n\n  return { ...state, field: modifiedField }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const removeFieldPlotAt = (state, x, y) =>\n  modifyFieldPlotAt(state, x, y, () => null)\n\n/**\n * @param {farmhand.state} state\n * @param {string} itemId\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const decrementItemFromInventory = (state, itemId, howMany = 1) => {\n  const inventory = [...state.inventory]\n  const itemInventoryIndex = inventory.findIndex(({ id }) => id === itemId)\n\n  if (itemInventoryIndex === -1) {\n    return state\n  }\n\n  const { quantity } = inventory[itemInventoryIndex]\n\n  if (quantity > howMany) {\n    inventory[itemInventoryIndex] = {\n      ...inventory[itemInventoryIndex],\n      quantity: quantity - howMany,\n    }\n  } else {\n    inventory.splice(itemInventoryIndex, 1)\n  }\n\n  return { ...state, inventory }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const rotateNotificationLogs = state => {\n  const notificationLog = [...state.notificationLog]\n\n  const { dayCount, newDayNotifications } = state\n\n  const notifications = {\n    error: [],\n    info: [],\n    success: [],\n    warning: [],\n  }\n\n  newDayNotifications.forEach(({ message, severity }) =>\n    notifications[severity].push(message)\n  )\n\n  newDayNotifications.length &&\n    notificationLog.unshift({\n      day: dayCount,\n      notifications,\n    })\n\n  notificationLog.length = Math.min(\n    notificationLog.length,\n    NOTIFICATION_LOG_SIZE\n  )\n\n  return { ...state, notificationLog }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const generatePriceEvents = state => {\n  const priceCrashes = { ...state.priceCrashes }\n  const priceSurges = { ...state.priceSurges }\n  let newDayNotifications = [...state.newDayNotifications]\n  let priceEvent\n\n  if (Math.random() < PRICE_EVENT_CHANCE) {\n    const cropItem = getRandomCropItem()\n    const { id } = cropItem\n\n    // Only create a priceEvent if one does not already exist\n    if (!priceCrashes[id] && !priceSurges[id]) {\n      const priceEventType =\n        Math.random() < 0.5 ? 'priceCrashes' : 'priceSurges'\n\n      priceEvent = createPriceEvent(\n        state,\n        getPriceEventForCrop(cropItem),\n        priceEventType\n      )\n\n      newDayNotifications.push(\n        priceEventType === 'priceCrashes'\n          ? {\n              message: PRICE_CRASH`${cropItem}`,\n              severity: 'warning',\n            }\n          : {\n              message: PRICE_SURGE`${cropItem}`,\n              severity: 'success',\n            }\n      )\n    }\n  }\n\n  return { ...state, ...priceEvent, newDayNotifications }\n}\n\n/**\n * @param {Object.<farmhand.priceEvent>} priceEvents\n * @returns {Object.<farmhand.priceEvent>}\n */\nconst decrementPriceEventDays = priceEvents =>\n  Object.keys(priceEvents).reduce((acc, key) => {\n    const { itemId, daysRemaining } = priceEvents[key]\n\n    if (daysRemaining > 1) {\n      acc[key] = { itemId, daysRemaining: daysRemaining - 1 }\n    }\n\n    return acc\n  }, {})\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updatePriceEvents = state => {\n  const { priceCrashes, priceSurges } = state\n\n  return {\n    ...state,\n    priceCrashes: decrementPriceEventDays(priceCrashes),\n    priceSurges: decrementPriceEventDays(priceSurges),\n  }\n}\n\nexport const applyLoanInterest = state => {\n  const loanBalance = moneyTotal(\n    state.loanBalance,\n    castToMoney(state.loanBalance * LOAN_INTEREST_RATE)\n  )\n\n  const newDayNotifications =\n    loanBalance > 0\n      ? [\n          ...state.newDayNotifications,\n          {\n            severity: 'warning',\n            message: LOAN_BALANCE_NOTIFICATION`${loanBalance}`,\n          },\n        ]\n      : state.newDayNotifications\n\n  return {\n    ...state,\n    loanBalance,\n    newDayNotifications,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const computeStateForNextDay = (state, isFirstDay = false) =>\n  (isFirstDay\n    ? []\n    : [\n        computeCowInventoryForNextDay,\n        processField,\n        processNerfs,\n        processWeather,\n        processSprinklers,\n        processFeedingCows,\n        processMilkingCows,\n        updatePriceEvents,\n        generatePriceEvents,\n        applyLoanInterest,\n        rotateNotificationLogs,\n      ]\n  )\n    .concat([adjustItemValues])\n    .reduce((acc, fn) => fn({ ...acc }), {\n      ...state,\n      cowForSale: generateCow(),\n      dayCount: state.dayCount + 1,\n    })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const purchaseItem = (state, item, howMany = 1) => {\n  const { money, valueAdjustments } = state\n  if (howMany === 0) {\n    return state\n  }\n\n  const value = getAdjustedItemValue(valueAdjustments, item.id)\n  const totalValue = value * howMany\n\n  if (totalValue > money) {\n    return state\n  }\n\n  return addItemToInventory(\n    {\n      ...state,\n      money: moneyTotal(money, -totalValue),\n    },\n    item,\n    howMany\n  )\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.item} item\n * @param {number} [howMany=1]\n * @returns {farmhand.state}\n */\nexport const sellItem = (state, { id }, howMany = 1) => {\n  if (howMany === 0) {\n    return state\n  }\n\n  const item = itemsMap[id]\n  const { itemsSold, money, revenue, valueAdjustments } = state\n  let { loanBalance } = state\n\n  const adjustedItemValue = isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getAdjustedItemValue(valueAdjustments, id)\n  const saleIsGarnished = isItemAFarmProduct(item)\n  let saleValue = 0\n\n  for (let i = 0; i < howMany; i++) {\n    const loanGarnishment = saleIsGarnished\n      ? Math.min(\n          loanBalance,\n          castToMoney(adjustedItemValue * LOAN_GARNISHMENT_RATE)\n        )\n      : 0\n    const garnishedProfit = adjustedItemValue - loanGarnishment\n    loanBalance = moneyTotal(loanBalance, -loanGarnishment)\n    saleValue = moneyTotal(saleValue, garnishedProfit)\n  }\n\n  if (saleIsGarnished) {\n    state = adjustLoan(state, moneyTotal(loanBalance, -state.loanBalance))\n  }\n\n  state = {\n    ...state,\n    itemsSold: { ...itemsSold, [id]: (itemsSold[id] || 0) + howMany },\n    money: moneyTotal(money, saleValue),\n    revenue: moneyTotal(revenue, saleValue),\n  }\n\n  state = decrementItemFromInventory(state, id, howMany)\n\n  return updateLearnedRecipes(state)\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const updateLearnedRecipes = state => ({\n  ...state,\n  learnedRecipes: Object.keys(recipesMap).reduce((acc, recipeId) => {\n    if (recipesMap[recipeId].condition(state)) {\n      acc[recipeId] = true\n    }\n\n    return acc\n  }, {}),\n})\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.recipe} recipe\n * @returns {farmhand.state}\n */\nexport const makeRecipe = (state, recipe) => {\n  if (!canMakeRecipe(recipe, state.inventory)) {\n    return state\n  }\n\n  state = Object.keys(recipe.ingredients).reduce(\n    (state, ingredientId) =>\n      decrementItemFromInventory(\n        state,\n        ingredientId,\n        recipe.ingredients[ingredientId]\n      ),\n    state\n  )\n\n  return addItemToInventory(state, recipe)\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} message\n * @param {string} [severity] Corresponds to the `severity` prop here:\n * https://material-ui.com/api/alert/\n * @returns {farmhand.state}\n */\nexport const showNotification = (state, message, severity = 'info') => {\n  const { notifications } = state\n\n  return {\n    ...state,\n    // Don't show redundant notifications\n    notifications: notifications.find(\n      notification => notification.message === message\n    )\n      ? notifications\n      : notifications.concat({ message, severity }),\n    doShowNotifications: true,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const purchaseCow = (state, cow) => {\n  const { cowInventory, cowColorsPurchased, money, purchasedCowPen } = state\n  const { color } = cow\n\n  const cowValue = getCowValue(cow)\n  if (\n    money < cowValue ||\n    purchasedCowPen === 0 ||\n    cowInventory.length >= PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows\n  ) {\n    return state\n  }\n\n  return {\n    ...state,\n    cowInventory: [...cowInventory, { ...cow }],\n    cowColorsPurchased: {\n      ...cowColorsPurchased,\n      [color]: (cowColorsPurchased[color] || 0) + 1,\n    },\n    money: moneyTotal(money, -cowValue),\n    cowForSale: generateCow(),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const sellCow = (state, cow) => {\n  const { cowInventory, money } = state\n  const cowValue = getCowValue(cow)\n\n  const newCowInventory = [...cowInventory]\n  newCowInventory.splice(cowInventory.indexOf(cow), 1)\n\n  return {\n    ...state,\n    cowInventory: newCowInventory,\n    money: moneyTotal(money, cowValue),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @param {Function(farmhand.cow)} fn Must return the modified cow or\n * undefined.\n * @returns {farmhand.state}\n */\nexport const modifyCow = (state, cowId, fn) => {\n  const cowInventory = [...state.cowInventory]\n  const cow = cowInventory.find(({ id }) => id === cowId)\n  const cowIndex = cowInventory.indexOf(cow)\n\n  cowInventory[cowIndex] = {\n    ...cow,\n    ...fn(cow),\n  }\n\n  return {\n    ...state,\n    cowInventory,\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @param {string} plantableItemId\n * @returns {farmhand.state}\n */\nexport const plantInPlot = (state, x, y, plantableItemId) => {\n  if (!plantableItemId) {\n    return state\n  }\n\n  const { field } = state\n  const row = field[y]\n  const finalCropItemId = getFinalCropItemIdFromSeedItemId(plantableItemId)\n\n  if (row[x]) {\n    // Something is already planted in field[x][y]\n    return state\n  }\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getCropFromItemId(finalCropItemId)\n  )\n\n  state = decrementItemFromInventory(state, plantableItemId)\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    selectedItemId: state.inventory.find(({ id }) => id === plantableItemId)\n      ? plantableItemId\n      : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const fertilizeCrop = (state, x, y) => {\n  const { field } = state\n  const row = field[y]\n  const crop = row[x]\n\n  if (\n    !crop ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    crop.isFertilized === true\n  ) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, FERTILIZER_ITEM_ID)\n\n  const doFertilizersRemain = state.inventory.some(\n    item => item.id === FERTILIZER_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    isFertilized: true,\n  }))\n\n  return {\n    ...state,\n    fieldMode: doFertilizersRemain ? FERTILIZE : OBSERVE,\n    selectedItemId: doFertilizersRemain ? FERTILIZER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setSprinkler = (state, x, y) => {\n  const { field } = state\n  const plot = field[y][x]\n\n  // Only set sprinklers in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SPRINKLER_ITEM_ID)\n\n  const doSprinklersRemain = state.inventory.some(\n    item => item.id === SPRINKLER_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SPRINKLER_ITEM_ID)\n  )\n\n  state = processSprinklers(state)\n\n  return {\n    ...state,\n    fieldMode: doSprinklersRemain ? SET_SPRINKLER : OBSERVE,\n    selectedItemId: doSprinklersRemain ? SPRINKLER_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const setScarecrow = (state, x, y) => {\n  const plot = state.field[y][x]\n\n  // Only set scarecrows in empty plots\n  if (plot !== null) {\n    return state\n  }\n\n  state = decrementItemFromInventory(state, SCARECROW_ITEM_ID)\n\n  const doScarecrowsRemain = state.inventory.some(\n    item => item.id === SCARECROW_ITEM_ID\n  )\n\n  state = modifyFieldPlotAt(state, x, y, () =>\n    getPlotContentFromItemId(SCARECROW_ITEM_ID)\n  )\n\n  return {\n    ...state,\n    fieldMode: doScarecrowsRemain ? SET_SCARECROW : OBSERVE,\n    selectedItemId: doScarecrowsRemain ? SCARECROW_ITEM_ID : '',\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const harvestPlot = (state, x, y) => {\n  const row = state.field[y]\n  const crop = row[x]\n\n  if (\n    !crop ||\n    getPlotContentType(crop) !== itemType.CROP ||\n    getCropLifeStage(crop) !== GROWN\n  ) {\n    return state\n  }\n\n  const item = itemsMap[crop.itemId]\n  state = removeFieldPlotAt(state, x, y)\n  state = addItemToInventory(state, item)\n  const { cropType } = item\n\n  const { cropsHarvested } = state\n\n  return {\n    ...state,\n    cropsHarvested: {\n      ...cropsHarvested,\n      [cropType]: (cropsHarvested[cropType] || 0) + 1,\n    },\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const harvestAll = state => {\n  updateField(state.field, (plot, x, y) => {\n    state = harvestPlot(state, x, y)\n  })\n\n  return state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const clearPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent) {\n    // Nothing planted in state.field[x][y]\n    return state\n  }\n\n  const item = itemsMap[plotContent.itemId]\n  state = removeFieldPlotAt(state, x, y)\n\n  return item.isReplantable ? addItemToInventory(state, item) : state\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} fieldId\n * @returns {farmhand.state}\n */\nexport const purchaseField = (state, fieldId) => {\n  const { field, money, purchasedField } = state\n  if (purchasedField >= fieldId) {\n    return state\n  }\n\n  const { columns, price, rows } = PURCHASEABLE_FIELD_SIZES.get(fieldId)\n\n  return {\n    purchasedField: fieldId,\n    field: new Array(rows)\n      .fill(null)\n      .map((_, row) =>\n        new Array(columns)\n          .fill(null)\n          .map((_, column) => (field[row] && field[row][column]) || null)\n      ),\n    money: moneyTotal(money, -price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {number} x\n * @param {number} y\n * @returns {farmhand.state}\n */\nexport const waterPlot = (state, x, y) => {\n  const plotContent = state.field[y][x]\n\n  if (!plotContent || getPlotContentType(plotContent) !== itemType.CROP) {\n    return state\n  }\n\n  return modifyFieldPlotAt(state, x, y, crop => ({\n    ...crop,\n    wasWateredToday: true,\n  }))\n}\n\n/**\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\nexport const waterAllPlots = state => waterField(state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} cowPenId\n * @returns {farmhand.state}\n */\nexport const purchaseCowPen = (state, cowPenId) => {\n  const { money, purchasedCowPen } = state\n\n  if (purchasedCowPen >= cowPenId) {\n    return state\n  }\n\n  return {\n    purchasedCowPen: cowPenId,\n    money: moneyTotal(money, -PURCHASEABLE_COW_PENS.get(cowPenId).price),\n  }\n}\n\n/**\n * @param {farmhand.state} state\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const hugCow = (state, cowId) =>\n  modifyCow(state, cowId, cow =>\n    cow.happinessBoostsToday >= MAX_DAILY_COW_HUG_BENEFITS\n      ? cow\n      : {\n          happiness: Math.min(1, cow.happiness + COW_HUG_BENEFIT),\n          happinessBoostsToday: cow.happinessBoostsToday + 1,\n        }\n  )\n\n/**\n * @param {farmhand.state} state\n * @param {string} newName\n * @param {string} cowId\n * @returns {farmhand.state}\n */\nexport const changeCowName = (state, cowId, newName) =>\n  modifyCow(state, cowId, cow => ({\n    name: newName.slice(0, MAX_ANIMAL_NAME_LENGTH),\n  }))\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.cow} cow\n * @returns {farmhand.state}\n */\nexport const selectCow = (state, { id }) => ({ ...state, selectedCowId: id })\n\n/**\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {farmhand.state}\n */\nexport const updateAchievements = (state, prevState) =>\n  achievements.reduce((state, achievement) => {\n    if (\n      !state.completedAchievements[achievement.id] &&\n      achievement.condition(state, prevState)\n    ) {\n      state = {\n        ...achievement.reward(state),\n        completedAchievements: {\n          ...state.completedAchievements,\n          [achievement.id]: true,\n        },\n      }\n\n      state = showNotification(\n        state,\n        ACHIEVEMENT_COMPLETED`${achievement}`,\n        'success'\n      )\n    }\n\n    return state\n  }, state)\n\n/**\n * @param {farmhand.state} state\n * @param {number} adjustmentAmount This should be a negative number if the\n * loan is being paid down, positive if a loan is being taken out.\n * @returns {farmhand.state}\n */\nexport const adjustLoan = (state, adjustmentAmount) => {\n  const loanBalance = moneyTotal(state.loanBalance, adjustmentAmount)\n  const money = moneyTotal(state.money, adjustmentAmount)\n\n  if (loanBalance === 0 && adjustmentAmount < 0) {\n    state = showNotification(state, LOAN_PAYOFF``, 'success')\n  } else if (adjustmentAmount > 0) {\n    state = showNotification(state, LOAN_INCREASED`${loanBalance}`, 'info')\n  }\n\n  return {\n    ...state,\n    loanBalance,\n    money,\n  }\n}\n","export const PROGRESS_SAVED_MESSAGE = 'Progress saved!'\nexport const RAIN_MESSAGE = 'It rained in the night!'\nexport const STORM_MESSAGE = 'There was a storm in the night!'\nexport const STORM_DESTROYS_SCARECROWS_MESSAGE =\n  'There was a storm in the night! No scarecrows survived!'\n","import React from 'react'\nimport { func, number, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport { default as MuiAppBar } from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Typography from '@material-ui/core/Typography'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\nimport './AppBar.sass'\n\nexport const AppBar = ({ handleMenuToggle, money, isMenuOpen, viewTitle }) => (\n  <MuiAppBar\n    {...{\n      className: 'AppBar',\n      position: 'fixed',\n    }}\n  >\n    <Toolbar\n      {...{\n        className: 'toolbar',\n      }}\n    >\n      <IconButton\n        className={classNames('menu-button', { 'is-open': isMenuOpen })}\n        color=\"inherit\"\n        aria-label=\"Open drawer\"\n        onClick={() => handleMenuToggle()}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Typography\n        {...{\n          className: 'stage-header',\n          variant: 'h2',\n        }}\n      >\n        {viewTitle}\n      </Typography>\n      <Typography\n        {...{\n          className: 'money-display',\n          variant: 'h2',\n        }}\n      >\n        {moneyString(money)}\n      </Typography>\n    </Toolbar>\n  </MuiAppBar>\n)\n\nAppBar.propTypes = {\n  handleMenuToggle: func.isRequired,\n  money: number.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AppBar {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array } from 'prop-types'\nimport Alert from '@material-ui/lab/Alert'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './LogView.sass'\n\nexport const LogView = ({ notificationLog }) => (\n  <ul className=\"LogView\">\n    {notificationLog.map(({ day, notifications }, i) => (\n      <li key={`${i}_${notifications.info.join()}`}>\n        <h3>Day {day}</h3>\n        {['success', 'info', 'warning', 'error'].map((severity, i) =>\n          notifications[severity].length ? (\n            <Alert {...{ elevation: 3, key: `${severity}_${i}`, severity }}>\n              {notifications[severity].map((message, j) => (\n                <p key={`${j}_${message}`}>{message}</p>\n              ))}\n            </Alert>\n          ) : null\n        )}\n      </li>\n    ))}\n  </ul>\n)\n\nLogView.propTypes = {\n  notificationLog: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <LogView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport NumberFormat from 'react-number-format'\nimport KeyboardArrowUp from '@material-ui/icons/KeyboardArrowUp'\nimport KeyboardArrowDown from '@material-ui/icons/KeyboardArrowDown'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { bool, func, number, object } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { items } from '../../img'\nimport { itemsMap } from '../../data/maps'\nimport {\n  isItemSoldInShop,\n  getCropLifecycleDuration,\n  getFinalCropItemFromSeedItem,\n  getItemValue,\n  getResaleValue,\n  moneyString,\n  integerString,\n} from '../../utils'\n\nimport './Item.sass'\n\nconst noop = () => {}\n\nconst ValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue,\n}) => (\n  <Tooltip\n    {...{\n      placement: 'right',\n      title: `${poorValue ? 'Poor' : 'Good'} opportunity`,\n    }}\n  >\n    {poorValue ? (\n      <KeyboardArrowDown color=\"error\" />\n    ) : (\n      <KeyboardArrowUp color=\"primary\" />\n    )}\n  </Tooltip>\n)\n\nconst PurchaseValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value > itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nconst SellValueIndicator = ({\n  id,\n  value,\n  valueAdjustments,\n\n  poorValue = value < itemsMap[id].value,\n}) => (\n  <ValueIndicator\n    {...{\n      id,\n      poorValue,\n      value,\n      valueAdjustments,\n    }}\n  />\n)\n\nconst QuantityNumberFormat = ({ inputRef, min, max, onChange, ...rest }) => (\n  <NumberFormat\n    isNumericString\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 0,\n      isAllowed: ({ floatValue = 0 }) => floatValue >= min && floatValue <= max,\n      onValueChange: ({ floatValue = 0 }) => onChange(floatValue),\n    }}\n  />\n)\n\nconst QuantityInput = ({ handleSubmit, handleUpdateNumber, max, value }) => (\n  <TextField\n    {...{\n      value,\n      inputProps: {\n        pattern: '[0-9]*',\n        min: 0,\n        max,\n      },\n      onChange: handleUpdateNumber,\n      // Bind to keyup to prevent spamming the event handler.\n      onKeyUp: ({ which }) => {\n        // Enter\n        if (which === 13) {\n          handleSubmit()\n        }\n      },\n\n      InputProps: {\n        inputComponent: QuantityNumberFormat,\n      },\n    }}\n  />\n)\n\nexport const Item = ({\n  completedAchievements,\n  handleItemPurchaseClick,\n  handleItemSelectClick,\n  handleItemSellClick,\n  isPurchaseView,\n  isSelectView,\n  isSelected,\n  isSellView,\n  item,\n  item: { id, isReplantable, description, name },\n  money,\n  playerInventoryQuantities,\n  showQuantity,\n  valueAdjustments,\n\n  // Note: This prop is defaulted to 0 in the tests.\n  adjustedValue = isSellView && isItemSoldInShop(item)\n    ? getResaleValue(item)\n    : getItemValue(item, valueAdjustments),\n\n  maxQuantityPlayerCanAfford = Math.floor(money / adjustedValue),\n}) => {\n  const [purchaseQuantity, setPurchaseQuantity] = useState(1)\n  const [sellQuantity, setSellQuantity] = useState(1)\n\n  useEffect(() => {\n    setPurchaseQuantity(Math.min(maxQuantityPlayerCanAfford, purchaseQuantity))\n  }, [maxQuantityPlayerCanAfford, purchaseQuantity])\n\n  useEffect(() => {\n    setSellQuantity(Math.min(playerInventoryQuantities[id], sellQuantity))\n  }, [id, playerInventoryQuantities, sellQuantity])\n\n  const handleItemPurchase = () => {\n    handleItemPurchaseClick(item, purchaseQuantity)\n    setPurchaseQuantity(Math.min(1, maxQuantityPlayerCanAfford))\n  }\n  const handleItemSell = () => {\n    handleItemSellClick(item, sellQuantity)\n    setSellQuantity(Math.min(1, playerInventoryQuantities[id]))\n  }\n\n  return (\n    <Card\n      {...{\n        className: classNames('Item', {\n          'is-selectable': isSelectView,\n          'is-selected': isSelected,\n        }),\n        onClick: isSelectView ? () => handleItemSelectClick(item) : noop,\n        raised: isSelected,\n      }}\n    >\n      <CardHeader\n        {...{\n          avatar: <img {...{ src: items[id] }} alt={name} />,\n          title: name,\n          subheader: (\n            <div>\n              {isPurchaseView && (\n                <p>\n                  {`Price: ${moneyString(adjustedValue)}`}\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <PurchaseValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {isSellView && (\n                <p>\n                  {`Sell price: ${moneyString(adjustedValue)}`}\n                  {completedAchievements['unlock-crop-price-guide'] &&\n                    valueAdjustments[id] && (\n                      <SellValueIndicator\n                        {...{ id, value: adjustedValue, valueAdjustments }}\n                      />\n                    )}\n                </p>\n              )}\n              {showQuantity && (\n                <p>\n                  <strong>In Inventory:</strong>{' '}\n                  {integerString(playerInventoryQuantities[id])}\n                </p>\n              )}\n              {isPurchaseView && item.growsInto && (\n                <p>\n                  Days to mature:{' '}\n                  {getCropLifecycleDuration(getFinalCropItemFromSeedItem(item))}\n                </p>\n              )}\n            </div>\n          ),\n        }}\n      />\n      {isPurchaseView && (description || isReplantable) && (\n        <CardContent>\n          {description && <Typography>{description}</Typography>}\n          {isReplantable && (\n            <Typography {...{ color: 'textSecondary' }}>\n              Once planted in the field, this item can be returned to your\n              inventory with the hoe and then replanted elsewhere.\n            </Typography>\n          )}\n        </CardContent>\n      )}\n      <CardActions>\n        {isSelectView && (\n          <Button\n            {...{\n              // The onClick handler for this is bound on the parent Card for\n              // better select-ability.\n              className: 'select',\n              color: 'primary',\n              variant: isSelected ? 'contained' : 'outlined',\n            }}\n          >\n            Select\n          </Button>\n        )}\n        {isPurchaseView && (\n          <>\n            <Button\n              {...{\n                className: 'purchase',\n                color: 'primary',\n                disabled:\n                  purchaseQuantity === 0 ||\n                  adjustedValue * purchaseQuantity > money,\n                onClick: handleItemPurchase,\n                variant: 'contained',\n              }}\n            >\n              Buy\n            </Button>\n            <div className=\"quantity\">\n              <QuantityInput\n                {...{\n                  handleSubmit: handleItemPurchase,\n                  handleUpdateNumber: setPurchaseQuantity,\n                  max: maxQuantityPlayerCanAfford,\n                  value: purchaseQuantity,\n                }}\n              />\n              <Button\n                {...{\n                  onClick: () =>\n                    setPurchaseQuantity(maxQuantityPlayerCanAfford),\n                }}\n              >\n                / {integerString(maxQuantityPlayerCanAfford)}\n              </Button>\n            </div>\n          </>\n        )}\n        {isSellView && (\n          <>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                disabled: sellQuantity === 0,\n                onClick: handleItemSell,\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n            <div className=\"quantity\">\n              <QuantityInput\n                {...{\n                  handleSubmit: handleItemSell,\n                  handleUpdateNumber: setSellQuantity,\n                  max: playerInventoryQuantities[id],\n                  value: sellQuantity,\n                }}\n              />\n              <Button\n                {...{\n                  onClick: () => setSellQuantity(playerInventoryQuantities[id]),\n                }}\n              >\n                / {integerString(playerInventoryQuantities[id])}\n              </Button>\n            </div>\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nItem.propTypes = {\n  adjustedValue: number,\n  completedAchievements: object.isRequired,\n  handleItemPurchaseClick: func,\n  handleItemSelectClick: func,\n  handleItemSellClick: func,\n  isPurchaseView: bool,\n  isSelectView: bool,\n  isSelected: bool,\n  isSellView: bool,\n  item: object.isRequired,\n  money: number.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  showQuantity: bool,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Item {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport { itemsMap } from '../../data/maps'\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\n\nimport './PriceEventView.sass'\n\nconst PriceEventView = ({ priceCrashes, priceSurges }) => (\n  <div className=\"PriceEventView\">\n    <h3>Price Surges</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceSurges).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              isSellView: true,\n              item: itemsMap[itemId],\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n    <Divider />\n    <h3>Price Crashes</h3>\n    <ul className=\"card-list\">\n      {Object.keys(priceCrashes).map(itemId => (\n        <li {...{ key: itemId }}>\n          <Item\n            {...{\n              item: itemsMap[itemId],\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nPriceEventView.propTypes = {\n  priceCrashes: object.isRequired,\n  priceSurges: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <PriceEventView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { number } from 'prop-types'\nimport { interpolate } from 'shifty'\n\nimport './ProgressBar.sass'\n\nconst incompleteColor = '#ff9f00'\nconst completeColor = '#00e500'\n\nconst ProgressBar = ({\n  percent,\n  fixedPercent = Number(percent.toFixed(2)),\n}) => (\n  <div className=\"ProgressBar\">\n    <div {...{ className: 'progress-wrapper' }}>\n      <div\n        {...{\n          className: 'progress',\n          style: {\n            background: interpolate(\n              { color: incompleteColor },\n              { color: completeColor },\n              percent / 100\n            ).color,\n            width: `${fixedPercent}%`,\n          },\n        }}\n      ></div>\n    </div>\n    <p>\n      <span>{fixedPercent}%</span>\n    </p>\n  </div>\n)\n\nProgressBar.propTypes = {\n  percent: number.isRequired,\n}\n\nexport default ProgressBar\n","import React from 'react'\nimport classNames from 'classnames'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport AssignmentIcon from '@material-ui/icons/Assignment'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport { bool, object } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Achievement.sass'\n\nconst Achievement = ({\n  achievement: { description, id, name, rewardDescription },\n  completedAchievements,\n\n  isComplete = Boolean(completedAchievements[id]),\n}) => (\n  <Card\n    {...{ className: classNames('Achievement', { 'is-complete': isComplete }) }}\n  >\n    <CardHeader\n      {...{\n        avatar: isComplete ? <AssignmentTurnedInIcon /> : <AssignmentIcon />,\n        title: name,\n        subheader: <p>Reward: {rewardDescription}</p>,\n      }}\n    />\n    <CardContent>\n      <p>{description}</p>\n    </CardContent>\n  </Card>\n)\n\nAchievement.propTypes = {\n  achievement: object.isRequired,\n  completedAchievements: object.isRequired,\n  isComplete: bool,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Achievement {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport { object } from 'prop-types'\nimport memoize from 'fast-memoize'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport ProgressBar from '../ProgressBar'\nimport Achievement from '../Achievement'\nimport achievements from '../../data/achievements'\n\nimport './AchievementsView.sass'\n\nconst partitionAchievements = memoize(completedAchievements =>\n  achievements.reduce(\n    (acc, achievement) => {\n      acc[\n        completedAchievements[achievement.id] ? 'complete' : 'incomplete'\n      ].push(achievement)\n\n      return acc\n    },\n    { complete: [], incomplete: [] }\n  )\n)\n\nconst AchievementsList = ({ achievements }) => (\n  <ExpansionPanelDetails>\n    <ul className=\"card-list\">\n      {achievements.map(achievement => (\n        <li {...{ key: achievement.id }}>\n          <Achievement {...{ achievement }} />\n        </li>\n      ))}\n    </ul>\n  </ExpansionPanelDetails>\n)\n\nconst AchievementsView = ({\n  completedAchievements,\n  partitionedAchievements: { complete, incomplete } = partitionAchievements(\n    completedAchievements\n  ),\n}) => (\n  <div className=\"AchievementsView\">\n    <ProgressBar\n      {...{ percent: (complete.length / achievements.length) * 100 }}\n    />\n    {complete.length ? (\n      <>\n        <ExpansionPanel {...{ defaultExpanded: true }}>\n          <ExpansionPanelSummary>\n            <h3>Completed</h3>\n          </ExpansionPanelSummary>\n          <AchievementsList {...{ achievements: complete }} />\n        </ExpansionPanel>\n        <Divider />\n      </>\n    ) : null}\n    <ExpansionPanel {...{ defaultExpanded: true }}>\n      <ExpansionPanelSummary>\n        <h3>Not Completed</h3>\n      </ExpansionPanelSummary>\n      <AchievementsList {...{ achievements: incomplete }} />\n    </ExpansionPanel>\n  </div>\n)\n\nAchievementsView.propTypes = {\n  completedAchievements: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AchievementsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { number } from 'prop-types'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { moneyString } from '../../utils'\n\nimport './StatsView.sass'\n\nconst StatsView = ({ revenue }) => (\n  <div className=\"StatsView\">\n    <TableContainer {...{ component: Paper }}>\n      <Table aria-label=\"Financial Stats\">\n        <TableBody>\n          <TableRow>\n            <TableCell {...{ component: 'th', scope: 'row' }}>\n              Revenue\n            </TableCell>\n            <TableCell align=\"right\">{moneyString(revenue)}</TableCell>\n          </TableRow>\n        </TableBody>\n      </Table>\n    </TableContainer>\n  </div>\n)\n\nStatsView.propTypes = {\n  revenue: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <StatsView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport AccountBalanceIcon from '@material-ui/icons/AccountBalance'\nimport NumberFormat from 'react-number-format'\nimport { func, number } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { dollarString, moneyString, moneyTotal } from '../../utils'\nimport {\n  STANDARD_LOAN_AMOUNT,\n  LOAN_INTEREST_RATE,\n  LOAN_GARNISHMENT_RATE,\n} from '../../constants'\n\nimport './AccountingView.sass'\n\nconst MoneyNumberFormat = ({\n  inputRef,\n  max,\n  min,\n  onChange,\n  setLoanInputValue,\n  ...rest\n}) => (\n  <NumberFormat\n    fixedDecimalScale\n    thousandSeparator\n    {...{\n      ...rest,\n      allowNegative: false,\n      decimalScale: 2,\n      prefix: '$',\n      isAllowed: ({ floatValue = 0 }) => min >= 0 && floatValue <= max,\n      onValueChange: ({ floatValue = 0 }) => onChange(floatValue),\n    }}\n  />\n)\n\nconst AccountingView = ({\n  handleClickLoanPaydownButton,\n  handleClickTakeOutLoanButton,\n  loanBalance,\n  money,\n}) => {\n  const [loanInputValue, setLoanInputValue] = useState(\n    Math.min(loanBalance, money)\n  )\n\n  useEffect(() => setLoanInputValue(Math.min(loanBalance, money)), [\n    loanBalance,\n    money,\n  ])\n\n  return (\n    <div className=\"AccountingView\">\n      <Card>\n        <CardHeader\n          {...{\n            avatar: <AccountBalanceIcon />,\n            title: 'Loan Balance',\n            subheader: <p>{moneyString(loanBalance)}</p>,\n          }}\n        />\n        <CardContent>\n          <div className=\"loan-container\">\n            <TextField\n              {...{\n                value: loanInputValue,\n                inputProps: {\n                  max: loanBalance,\n                  min: 0,\n\n                  // Enable a helpful number input for iOS.\n                  // https://css-tricks.com/finger-friendly-numerical-inputs-with-inputmode/\n                  pattern: '[0-9]*',\n                },\n\n                onChange: setLoanInputValue,\n                InputProps: {\n                  inputComponent: MoneyNumberFormat,\n                },\n              }}\n            />\n            <Button\n              {...{\n                color: 'primary',\n                disabled: loanBalance === 0,\n                variant: 'contained',\n                onClick: () => {\n                  handleClickLoanPaydownButton(loanInputValue)\n                  setLoanInputValue(loanBalance - loanInputValue)\n                },\n              }}\n            >\n              Pay into loan\n            </Button>\n            <p>\n              You may take out a loan at any time. So long as you have a loan\n              balance, all farm product sales are garnished by{' '}\n              {LOAN_GARNISHMENT_RATE * 100}% until the loan is repaid. The loan\n              interest rate is {LOAN_INTEREST_RATE * 100}% per day, compounded\n              daily.\n            </p>\n          </div>\n          <Button\n            {...{\n              color: 'secondary',\n              variant: 'contained',\n              onClick: () => {\n                handleClickTakeOutLoanButton(STANDARD_LOAN_AMOUNT)\n                setLoanInputValue(\n                  Math.min(\n                    moneyTotal(loanInputValue, STANDARD_LOAN_AMOUNT),\n                    moneyTotal(money, STANDARD_LOAN_AMOUNT)\n                  )\n                )\n              },\n            }}\n          >\n            Take out a {dollarString(STANDARD_LOAN_AMOUNT)} loan\n          </Button>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}\n\nAccountingView.propTypes = {\n  handleClickTakeOutLoanButton: func.isRequired,\n  handleClickLoanPaydownButton: func.isRequired,\n  loanBalance: number.isRequired,\n  money: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <AccountingView {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Fab from '@material-ui/core/Fab'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport HistoryIcon from '@material-ui/icons/History'\nimport FlashOnIcon from '@material-ui/icons/FlashOn'\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp'\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { array, number, func, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { dialogView } from '../../enums'\nimport { STAGE_TITLE_MAP } from '../../constants'\n\nimport LogView from '../LogView'\nimport PriceEventView from '../PriceEventView'\nimport AchievementsView from '../AchievementsView'\nimport StatsView from '../StatsView'\nimport AccountingView from '../AccountingView'\n\nimport './Navigation.sass'\n\nconst {\n  FARMERS_LOG,\n  PRICE_EVENTS,\n  ACHIEVEMENTS,\n  STATS,\n  ACCOUNTING,\n} = dialogView\n\nconst dialogTriggerTextMap = {\n  [FARMERS_LOG]: \"Open Farmer's Log (l)\",\n  [PRICE_EVENTS]: 'See Price Events (p)',\n  [ACHIEVEMENTS]: 'View Achievements (a)',\n  [STATS]: 'View your stats (d)',\n  [ACCOUNTING]: 'View Bank Account (b)',\n}\n\nconst dialogTitleMap = {\n  [FARMERS_LOG]: \"Farmer's Log\",\n  [PRICE_EVENTS]: 'Price Events',\n  [ACHIEVEMENTS]: 'Achievements',\n  [STATS]: 'Farm Stats',\n  [ACCOUNTING]: 'Bank Account',\n}\n\nconst dialogContentMap = {\n  [FARMERS_LOG]: <LogView />,\n  [PRICE_EVENTS]: <PriceEventView />,\n  [ACHIEVEMENTS]: <AchievementsView />,\n  [STATS]: <StatsView />,\n  [ACCOUNTING]: <AccountingView />,\n}\n\nexport const Navigation = ({\n  currentDialogView,\n  dayCount,\n  handleClickDialogViewButton,\n  handleCloseDialogView,\n  handleViewChange,\n  purchasedCowPen,\n  stageFocus,\n  viewList,\n}) => (\n  <header className=\"Navigation\">\n    <h1>Farmhand</h1>\n    <h2 className=\"day-count\">Day {dayCount}</h2>\n    <Select\n      {...{\n        className: 'view-select',\n        onChange: handleViewChange,\n        value: stageFocus,\n      }}\n    >\n      {viewList.map((view, i) => (\n        <MenuItem {...{ key: view, value: view }}>\n          {i + 1}: {STAGE_TITLE_MAP[view]}\n        </MenuItem>\n      ))}\n    </Select>\n    <div className=\"button-array\">\n      {[\n        { dialogView: FARMERS_LOG, Icon: HistoryIcon },\n        { dialogView: PRICE_EVENTS, Icon: FlashOnIcon },\n        { dialogView: ACHIEVEMENTS, Icon: AssignmentTurnedInIcon },\n        { dialogView: STATS, Icon: TrendingUpIcon },\n        { dialogView: ACCOUNTING, Icon: AttachMoneyIcon },\n      ].map(({ dialogView, Icon }) => (\n        <Tooltip\n          {...{\n            key: dialogView,\n            placement: 'bottom',\n            title: dialogTriggerTextMap[dialogView],\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': dialogTriggerTextMap[dialogView],\n              color: 'primary',\n              onClick: () => handleClickDialogViewButton(dialogView),\n            }}\n          >\n            <Icon />\n          </Fab>\n        </Tooltip>\n      ))}\n    </div>\n    {/*\n    This Dialog gets the Farmhand class because it renders outside of the root\n    Farmhand component. This explicit class maintains style consistency.\n    */}\n    <Dialog\n      {...{\n        className: 'Farmhand',\n        fullWidth: true,\n        maxWidth: 'md',\n        onClose: handleCloseDialogView,\n        open: currentDialogView !== dialogView.NONE,\n      }}\n    >\n      <DialogTitle>{dialogTitleMap[currentDialogView]}</DialogTitle>\n      <DialogContent>{dialogContentMap[currentDialogView]}</DialogContent>\n      <DialogActions>\n        <Button onClick={handleCloseDialogView} color=\"primary\" autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </header>\n)\n\nNavigation.propTypes = {\n  dayCount: number.isRequired,\n  handleClickDialogViewButton: func.isRequired,\n  handleCloseDialogView: func.isRequired,\n  handleViewChange: func.isRequired,\n  purchasedCowPen: number.isRequired,\n  stageFocus: string.isRequired,\n  viewList: array.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Navigation {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Fragment } from 'react'\nimport { array } from 'prop-types'\nimport Divider from '@material-ui/core/Divider'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport { itemsMap } from '../../data/maps'\nimport { enumify, itemType } from '../../enums'\nimport { sortItems } from '../../utils'\n\nimport './Inventory.sass'\n\nconst {\n  COW_FEED,\n  CROP,\n  DISH,\n  FERTILIZER,\n  MILK,\n  SCARECROW,\n  SPRINKLER,\n} = itemType\n\nexport const categoryIds = enumify([\n  'ANIMAL_PRODUCTS',\n  'ANIMAL_SUPPLIES',\n  'CROPS',\n  'DISHES',\n  'FIELD_TOOLS',\n  'SEEDS',\n])\nconst categoryIdKeys = Object.keys(categoryIds)\nconst {\n  ANIMAL_PRODUCTS,\n  ANIMAL_SUPPLIES,\n  CROPS,\n  DISHES,\n  FIELD_TOOLS,\n  SEEDS,\n} = categoryIds\n\nconst itemTypeCategoryMap = Object.freeze({\n  [COW_FEED]: ANIMAL_SUPPLIES,\n  SEEDS,\n  [CROP]: CROPS,\n  [DISH]: DISHES,\n  [FERTILIZER]: FIELD_TOOLS,\n  [MILK]: ANIMAL_PRODUCTS,\n  [SCARECROW]: FIELD_TOOLS,\n  [SPRINKLER]: FIELD_TOOLS,\n})\n\nconst getItemCategories = () =>\n  categoryIdKeys.reduce((acc, key) => {\n    acc[key] = []\n    return acc\n  }, {})\n\nexport const separateItemsIntoCategories = items =>\n  sortItems(items).reduce((acc, item) => {\n    const { type } = itemsMap[item.id]\n    const category = itemTypeCategoryMap[type]\n\n    if (category === CROPS) {\n      acc[item.isPlantableCrop ? SEEDS : CROPS].push(item)\n    } else {\n      acc[category].push(item)\n    }\n\n    return acc\n  }, getItemCategories())\n\nexport const Inventory = ({\n  items,\n  playerInventory,\n  shopInventory,\n\n  // Infer the type of view this is by doing an identity check against\n  // gameState arrays.\n  isPurchaseView = items === shopInventory,\n  isSellView = items === playerInventory,\n\n  itemCategories = separateItemsIntoCategories(items),\n}) => (\n  <div className=\"Inventory\">\n    {[\n      [CROPS, 'Crops'],\n      [SEEDS, 'Seeds'],\n      [FIELD_TOOLS, 'Field Tools'],\n      [ANIMAL_PRODUCTS, 'Animal Products'],\n      [ANIMAL_SUPPLIES, 'Animal Supplies'],\n      [DISHES, 'Dishes'],\n    ].map(([category, headerText]) =>\n      itemCategories[category].length ? (\n        <Fragment key={category}>\n          <section>\n            <h3>{headerText}</h3>\n            <ul className=\"card-list\">\n              {itemCategories[category].map(item => (\n                <li key={item.id}>\n                  <Item\n                    {...{\n                      isPurchaseView,\n                      isSellView,\n                      item,\n                      showQuantity: isPurchaseView,\n                    }}\n                  />\n                </li>\n              ))}\n            </ul>\n          </section>\n          <Divider />\n        </Fragment>\n      ) : null\n    )}\n  </div>\n)\n\nInventory.propTypes = {\n  items: array.isRequired,\n  playerInventory: array,\n  shopInventory: array,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Inventory {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { func, object, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './Toolbelt.sass'\nimport { fieldMode } from '../../enums'\nimport { tools, pixel } from '../../img'\n\nconst { CLEANUP, HARVEST, WATER } = fieldMode\n\nexport const Toolbelt = ({\n  completedAchievements,\n  fieldMode: currentFieldMode,\n  handleFieldModeSelect,\n  handleHarvestAllClick,\n}) => (\n  <div className=\"Toolbelt\">\n    <div className=\"button-array\">\n      {[\n        {\n          alt: 'A watering can for hydrating plants.',\n          fieldMode: WATER,\n          keybinding: 'shift + w',\n          toolImageId: 'watering-can',\n        },\n        {\n          alt: 'A scythe for crop harvesting.',\n          fieldMode: HARVEST,\n          keybinding: 'shift + s',\n          toolImageId: 'scythe',\n        },\n        {\n          alt:\n            'A hoe for removing crops and disposing of them. Also returns replantable items to your inventory.',\n          fieldMode: CLEANUP,\n          keybinding: 'shift + h',\n          toolImageId: 'hoe',\n        },\n      ].map(({ alt, fieldMode, keybinding, toolImageId }) => (\n        <Tooltip\n          {...{\n            key: fieldMode,\n            placement: 'bottom',\n            title: (\n              <>\n                <p>{alt}</p>\n                <p>({keybinding})</p>\n              </>\n            ),\n          }}\n        >\n          <Button\n            {...{\n              className: classNames({\n                selected: fieldMode === currentFieldMode,\n              }),\n              color: 'primary',\n              onClick: () => handleFieldModeSelect(fieldMode),\n              variant:\n                fieldMode === currentFieldMode ? 'contained' : 'outlined',\n            }}\n          >\n            {/* alt is in a different format here because of linter weirdness. */}\n            <img\n              {...{\n                className: `square ${toolImageId}`,\n                src: pixel,\n                style: { backgroundImage: `url(${tools[toolImageId]}` },\n              }}\n              alt={alt}\n            />\n          </Button>\n        </Tooltip>\n      ))}\n    </div>\n\n    <div className=\"bulk-operations\">\n      {completedAchievements['master-harvester'] && (\n        <Button\n          {...{\n            color: 'primary',\n            onClick: handleHarvestAllClick,\n            variant: 'contained',\n          }}\n        >\n          Harvest All\n        </Button>\n      )}\n    </div>\n  </div>\n)\n\nToolbelt.propTypes = {\n  completedAchievements: object.isRequired,\n  fieldMode: string.isRequired,\n  handleFieldModeSelect: func.isRequired,\n  handleHarvestAllClick: func.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Toolbelt {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, string } from 'prop-types'\n\nimport { sortItems } from '../../utils'\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport './PlantableItems.sass'\n\nexport const PlantableItems = ({ plantableCropInventory, selectedItemId }) => (\n  <div className=\"PlantableItems\">\n    <ul className=\"card-list\">\n      {sortItems(plantableCropInventory).map(item => (\n        <li key={item.id}>\n          <Item\n            {...{\n              item,\n              isSelected: item.id === selectedItemId,\n              isSelectView: true,\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nPlantableItems.propTypes = {\n  plantableCropInventory: array.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <PlantableItems {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, string } from 'prop-types'\n\nimport { sortItems } from '../../utils'\nimport FarmhandContext from '../../Farmhand.context'\nimport Item from '../Item'\nimport './FieldTools.sass'\n\nexport const FieldTools = ({ fieldToolInventory, selectedItemId }) => (\n  <div className=\"FieldTools\">\n    <ul className=\"card-list\">\n      {sortItems(fieldToolInventory).map(item => (\n        <li key={item.id}>\n          <Item\n            {...{\n              item,\n              isSelected: selectedItemId === item.id,\n              isSelectView: true,\n              showQuantity: true,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nFieldTools.propTypes = {\n  fieldToolInventory: array.isRequired,\n  selectedItemId: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <FieldTools {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useState } from 'react'\nimport { array, func, number, object, string } from 'prop-types'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport TextField from '@material-ui/core/TextField'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport classNames from 'classnames'\nimport {\n  faMars,\n  faVenus,\n  faHeart as faFullHeart,\n} from '@fortawesome/free-solid-svg-icons'\nimport { faHeart as faEmptyHeart } from '@fortawesome/free-regular-svg-icons'\n\nimport Item from '../Item'\nimport { animals } from '../../img'\nimport FarmhandContext from '../../Farmhand.context'\nimport { cowColors, genders } from '../../enums'\nimport { moneyString, getCowValue, getCowWeight } from '../../utils'\nimport { PURCHASEABLE_COW_PENS } from '../../constants'\nimport { cowFeed } from '../../data/items'\n\nimport './CowPenContextMenu.sass'\n\nconst genderIcons = {\n  [genders.FEMALE]: faVenus,\n  [genders.MALE]: faMars,\n}\n\nconst nullHeartList = new Array(10).fill(null)\n\n// The extra 0.5 is for rounding up to the next full heart. This allows a fully\n// happy cow to have full hearts on the beginning of a new day.\nconst isHeartFull = (heartIndex, numberOfFullHearts) =>\n  heartIndex + 0.5 < numberOfFullHearts\n\nexport const CowCardSubheader = ({\n  cow,\n  cowValue,\n  isCowPurchased,\n\n  numberOfFullHearts = cow.happiness * 10,\n}) => (\n  <>\n    {isCowPurchased && (\n      <p>\n        {cow.daysOld} {cow.daysOld === 1 ? 'day' : 'days'} old\n      </p>\n    )}\n    <p>\n      {isCowPurchased ? 'Value' : 'Price'}: {moneyString(cowValue)}\n    </p>\n    <p>Weight: {getCowWeight(cow)} lbs.</p>\n    {isCowPurchased && (\n      <ol className=\"hearts\">\n        {nullHeartList.map((_null, i) => (\n          <li key={`${cow.id}_${i}`}>\n            <FontAwesomeIcon\n              {...{\n                icon: isHeartFull(i, numberOfFullHearts)\n                  ? faFullHeart\n                  : faEmptyHeart,\n                className: classNames('heart', {\n                  'is-full': isHeartFull(i, numberOfFullHearts),\n                }),\n              }}\n            />\n          </li>\n        ))}\n      </ol>\n    )}\n  </>\n)\n\nexport const CowCard = ({\n  cow,\n  cowInventory,\n  debounced,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowPurchaseClick,\n  handleCowSellClick,\n  isSelected,\n  money,\n  purchasedCowPen,\n\n  cowValue = getCowValue(cow),\n  isCowPurchased = !!handleCowSellClick,\n  isNameEditable = !!handleCowNameInputChange,\n}) => {\n  const [name, setName] = useState(cow.name)\n\n  return (\n    <Card {...{ raised: isSelected }}>\n      <CardHeader\n        {...{\n          avatar: (\n            <img\n              {...{ src: animals.cow[cowColors[cow.color].toLowerCase()] }}\n              alt=\"Cow\"\n            />\n          ),\n          title: (\n            <>\n              {isNameEditable ? (\n                <TextField\n                  {...{\n                    onChange: e => {\n                      setName(e.target.value)\n                      debounced.handleCowNameInputChange({ ...e }, cow)\n                    },\n                    placeholder: 'Name',\n                    value: name,\n                  }}\n                />\n              ) : (\n                cow.name\n              )}{' '}\n              <FontAwesomeIcon\n                {...{\n                  icon: genderIcons[cow.gender],\n                }}\n              />\n            </>\n          ),\n          subheader: (\n            <CowCardSubheader\n              {...{\n                cow,\n                cowValue,\n                isCowPurchased,\n              }}\n            />\n          ),\n        }}\n      />\n      <CardActions>\n        {!isCowPurchased && (\n          <Button\n            {...{\n              className: 'purchase',\n              color: 'primary',\n              disabled:\n                cowValue > money ||\n                cowInventory.length >=\n                  PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows,\n              onClick: () => handleCowPurchaseClick(cow),\n              variant: 'contained',\n            }}\n          >\n            Buy\n          </Button>\n        )}\n        {isCowPurchased && (\n          <>\n            <Button\n              {...{\n                className: 'hug',\n                color: 'primary',\n                onClick: () => handleCowHugClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Hug\n            </Button>\n            <Button\n              {...{\n                className: 'sell',\n                color: 'secondary',\n                onClick: () => handleCowSellClick(cow),\n                variant: 'contained',\n              }}\n            >\n              Sell\n            </Button>\n          </>\n        )}\n      </CardActions>\n    </Card>\n  )\n}\n\nexport const CowPenContextMenu = ({\n  cowForSale,\n  cowInventory,\n  debounced,\n  handleCowHugClick,\n  handleCowNameInputChange,\n  handleCowPurchaseClick,\n  handleCowSelect,\n  handleCowSellClick,\n  money,\n  purchasedCowPen,\n  selectedCowId,\n}) => (\n  <div className=\"CowPenContextMenu\">\n    <h3>Supplies</h3>\n    <Item\n      {...{\n        item: cowFeed,\n        isPurchaseView: true,\n        showQuantity: true,\n      }}\n    />\n    <h3>For sale</h3>\n    <CowCard\n      {...{\n        cow: cowForSale,\n        cowInventory,\n        handleCowPurchaseClick,\n        money,\n        purchasedCowPen,\n      }}\n    />\n    <h3>\n      Cows ({cowInventory.length} /{' '}\n      {PURCHASEABLE_COW_PENS.get(purchasedCowPen).cows})\n    </h3>\n    <ul className=\"card-list purchased-cows\">\n      {cowInventory.map(cow => (\n        <li\n          {...{\n            key: cow.id,\n            onFocus: () => handleCowSelect(cow),\n            onClick: () => handleCowSelect(cow),\n          }}\n        >\n          <CowCard\n            {...{\n              cow,\n              cowInventory,\n              debounced,\n              handleCowHugClick,\n              handleCowNameInputChange,\n              handleCowSellClick,\n              isSelected: cow.id === selectedCowId,\n              money,\n              purchasedCowPen,\n            }}\n          />\n        </li>\n      ))}\n    </ul>\n  </div>\n)\n\nCowPenContextMenu.propTypes = {\n  cowForSale: object.isRequired,\n  cowInventory: array.isRequired,\n  debounced: object.isRequired,\n  handleCowHugClick: func.isRequired,\n  handleCowNameInputChange: func.isRequired,\n  handleCowPurchaseClick: func.isRequired,\n  handleCowSelect: func.isRequired,\n  handleCowSellClick: func.isRequired,\n  money: number.isRequired,\n  purchasedCowPen: number.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPenContextMenu {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Inventory from '../Inventory'\nimport Toolbelt from '../Toolbelt'\nimport PlantableItems from '../PlantableItems'\nimport FieldTools from '../FieldTools'\nimport CowPenContextMenu from '../CowPenContextMenu'\nimport { stageFocusType } from '../../enums'\n\nimport './ContextPane.sass'\n\nexport const ContextPane = ({ playerInventory, stageFocus }) => (\n  <div className=\"ContextPane\">\n    {stageFocus === stageFocusType.FIELD && (\n      <>\n        <header>\n          <h3>Toolbelt</h3>\n        </header>\n        <Toolbelt />\n        <header>\n          <h3>Seeds</h3>\n        </header>\n        <PlantableItems />\n        <header>\n          <h3>Field Tools</h3>\n        </header>\n        <FieldTools />\n      </>\n    )}\n    {stageFocus === stageFocusType.SHOP && (\n      <>\n        <h2>Inventory</h2>\n        <Inventory\n          {...{\n            items: playerInventory,\n          }}\n        />\n      </>\n    )}\n    {stageFocus === stageFocusType.COW_PEN && <CowPenContextMenu />}\n  </div>\n)\n\nContextPane.propTypes = {\n  stageFocus: string.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <ContextPane {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { func, number, object, string } from 'prop-types'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport { getCropLifeStage, getPlotContentType, getPlotImage } from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { pixel, plotStates } from '../../img'\nimport { cropLifeStage, itemType } from '../../enums'\nimport './Plot.sass'\n\nexport const getBackgroundStyles = plotContent => {\n  if (!plotContent) {\n    return null\n  }\n\n  const backgroundImages = []\n\n  if (plotContent.isFertilized) {\n    backgroundImages.push(`url(${plotStates['fertilized-plot']})`)\n  }\n\n  if (plotContent.wasWateredToday) {\n    backgroundImages.push(`url(${plotStates['watered-plot']})`)\n  }\n\n  return backgroundImages.join(', ')\n}\n\nexport const isInHoverRange = (\n  hoveredPlotRangeSize,\n  { x: hoveredPlotX, y: hoveredPlotY },\n  plotX,\n  plotY\n) => {\n  const squareSize = 2 * hoveredPlotRangeSize\n  const rangeFloorX = hoveredPlotX - hoveredPlotRangeSize\n  const rangeFloorY = hoveredPlotY - hoveredPlotRangeSize\n  const rangeCeilingX = rangeFloorX + squareSize\n  const rangeCeilingY = rangeFloorY + squareSize\n\n  return (\n    plotX >= rangeFloorX &&\n    plotX <= rangeCeilingX &&\n    plotY >= rangeFloorY &&\n    plotY <= rangeCeilingY\n  )\n}\n\nexport const Plot = ({\n  handlePlotClick,\n  hoveredPlot,\n  hoveredPlotRangeSize,\n  plotContent,\n  setHoveredPlot,\n  x,\n  y,\n\n  image = getPlotImage(plotContent),\n  lifeStage = plotContent &&\n    getPlotContentType(plotContent) === itemType.CROP &&\n    getCropLifeStage(plotContent),\n}) => {\n  return (\n    <div\n      className={classNames('Plot', {\n        'is-empty': !plotContent,\n        'is-in-hover-range': isInHoverRange(\n          hoveredPlotRangeSize,\n          hoveredPlot,\n          x,\n          y\n        ),\n\n        // For crops\n        crop: plotContent && getPlotContentType(plotContent) === itemType.CROP,\n        'is-fertilized': plotContent && plotContent.isFertilized,\n        'is-ripe': lifeStage === cropLifeStage.GROWN,\n\n        'is-replantable':\n          plotContent && itemsMap[plotContent.itemId].isReplantable,\n      })}\n      style={{\n        backgroundImage: getBackgroundStyles(plotContent),\n      }}\n      onClick={() => handlePlotClick(x, y)}\n      onDragEnter={() => handlePlotClick(x, y)}\n      onMouseOver={() => setHoveredPlot({ x, y })}\n    >\n      <img\n        className=\"square\"\n        style={{\n          backgroundImage: image ? `url(${image})` : undefined,\n        }}\n        src={pixel}\n        alt=\"\"\n      />\n    </div>\n  )\n}\n\nPlot.propTypes = {\n  handlePlotClick: func.isRequired,\n  hoveredPlot: object.isRequired,\n  hoveredPlotRangeSize: number.isRequired,\n  lifeStage: string,\n  plotContent: object,\n  setHoveredPlot: func.isRequired,\n  x: number.isRequired,\n  y: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Plot {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useMemo, useState } from 'react'\nimport { array, bool, func, number, object, string } from 'prop-types'\nimport Fab from '@material-ui/core/Fab'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport ZoomOutMapIcon from '@material-ui/icons/ZoomOutMap'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { TransformWrapper, TransformComponent } from 'react-zoom-pan-pinch'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport classNames from 'classnames'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Plot from '../Plot'\nimport { FIELD_ZOOM_SCALE_DISABLE_SWIPE_THRESHOLD } from '../../constants'\nimport { fieldMode } from '../../enums'\n\nimport './Field.sass'\n\nconst {\n  CLEANUP,\n  FERTILIZE,\n  HARVEST,\n  PLANT,\n  SET_SCARECROW,\n  SET_SPRINKLER,\n  WATER,\n} = fieldMode\n\nconst keyMap = {\n  zoomIn: ['=', 'plus'],\n  zoomOut: '-',\n}\n\nexport const FieldContent = ({\n  columns,\n  field,\n  fitToScreen,\n  hoveredPlot,\n  rows,\n  setFitToScreen,\n  setHoveredPlot,\n  zoomIn,\n  zoomOut,\n}) => {\n  const fieldContent = useMemo(\n    () => (\n      <TransformComponent>\n        {Array(rows)\n          .fill(null)\n          .map((_null, i) => (\n            <div className=\"row\" key={i}>\n              {Array(columns)\n                .fill(null)\n                .map((_null, j, arr, plotContent = field[i][j]) => (\n                  <Plot\n                    key={j}\n                    {...{\n                      hoveredPlot,\n                      plotContent,\n                      setHoveredPlot,\n                      x: j,\n                      y: i,\n                    }}\n                  />\n                ))}\n            </div>\n          ))}\n      </TransformComponent>\n    ),\n    [rows, columns, field, hoveredPlot, setHoveredPlot]\n  )\n\n  const toggleFitToScreen = () => setFitToScreen(!fitToScreen)\n\n  return (\n    <GlobalHotKeys\n      {...{\n        keyMap,\n        handlers: {\n          zoomIn,\n          zoomOut,\n        },\n      }}\n    >\n      {fieldContent}\n      <div className=\"fab-buttons zoom-controls\">\n        <Tooltip\n          {...{\n            placement: 'left',\n            title: 'Fit to screen',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Fit to screen',\n              color: 'primary',\n              className: 'fit-to-screen-button',\n              onClick: toggleFitToScreen,\n            }}\n          >\n            <ZoomOutMapIcon />\n          </Fab>\n        </Tooltip>\n        <Tooltip\n          {...{\n            placement: 'left',\n            title: 'Zoom In',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Zoom In',\n              color: 'primary',\n              onClick: zoomIn,\n            }}\n          >\n            <AddIcon />\n          </Fab>\n        </Tooltip>\n        <Tooltip\n          {...{\n            placement: 'left',\n            title: 'Zoom Out',\n          }}\n        >\n          <Fab\n            {...{\n              'aria-label': 'Zoom Out',\n              color: 'primary',\n              onClick: zoomOut,\n            }}\n          >\n            <RemoveIcon />\n          </Fab>\n        </Tooltip>\n      </div>\n    </GlobalHotKeys>\n  )\n}\n\nFieldContent.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  fitToScreen: bool.isRequired,\n  hoveredPlot: object.isRequired,\n  rows: number.isRequired,\n  setHoveredPlot: func.isRequired,\n  setFitToScreen: func.isRequired,\n  zoomIn: func.isRequired,\n  zoomOut: func.isRequired,\n}\n\nexport const Field = props => {\n  const { fieldMode, handleFieldZoom, purchasedField } = props\n\n  const [hoveredPlot, setHoveredPlot] = useState({ x: null, y: null })\n  const [currentScale, setCurrentScale] = useState(1)\n  const [fitToScreen, setFitToScreen] = useState(true)\n\n  useEffect(() => {\n    handleFieldZoom(currentScale)\n  }, [currentScale, handleFieldZoom])\n\n  return (\n    <div\n      {...{\n        className: classNames('Field', {\n          'cleanup-mode': fieldMode === CLEANUP,\n          'fertilize-mode': fieldMode === FERTILIZE,\n          'fit-to-screen': fitToScreen,\n          'harvest-mode': fieldMode === HARVEST,\n          'plant-mode': fieldMode === PLANT,\n          'set-scarecrow-mode': fieldMode === SET_SCARECROW,\n          'set-sprinkler-mode': fieldMode === SET_SPRINKLER,\n          'water-mode': fieldMode === WATER,\n        }),\n        'data-purchased-field': purchasedField,\n      }}\n    >\n      <TransformWrapper\n        {...{\n          limitToWrapper: true,\n          pan: {\n            disabled: currentScale < FIELD_ZOOM_SCALE_DISABLE_SWIPE_THRESHOLD,\n          },\n          // These -1s prevent NREs within react-zoom-pan-pinch, but also\n          // disable zoom animations.\n          zoomIn: {\n            animationTime: -1,\n          },\n          zoomOut: {\n            animationTime: -1,\n          },\n          onZoomChange: ({ scale }) => {\n            // If setCurrentScale with scale < 1 is called here, it causes a\n            // reference error within react-zoom-pan-pinch.\n            if (scale >= 1) {\n              setCurrentScale(scale)\n            }\n          },\n          wheel: {\n            disabled: true,\n          },\n          doubleClick: { disabled: true },\n        }}\n      >\n        {transformProps => (\n          <FieldContent\n            {...{\n              ...props,\n              ...transformProps,\n              fitToScreen,\n              hoveredPlot,\n              setFitToScreen,\n              setHoveredPlot,\n            }}\n          />\n        )}\n      </TransformWrapper>\n      <div {...{ className: 'spacer' }} />\n    </div>\n  )\n}\n\nField.propTypes = {\n  columns: number.isRequired,\n  field: array.isRequired,\n  fieldMode: string.isRequired,\n  handleFieldZoom: func.isRequired,\n  purchasedField: number.isRequired,\n  rows: number.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Field {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport ReactMarkdown from 'react-markdown'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Home.sass'\n\nconst Home = () => (\n  <div className=\"Home\">\n    <ReactMarkdown\n      {...{\n        linkTarget: '_blank',\n        source: `\n# Welcome!\n\nYou're playing Farmhand, an open source game being developed by [Jeremy Kahn](https://github.com/jeremyckahn). The game is currently smack dab in the middle of development, so it is incomplete and very unpolished. However, you're welcome to try out what's already here!\n\nThis is a resource management game that puts a farm in your hand. It is designed to be mobile-friendly and fun for 30 seconds or 30 minutes at a time. Give it a try!\n\nIf you'd like to follow this project's development, please [join the Discord channel](https://discord.gg/6cHEZ9H) or check it out on [GitHub](https://github.com/jeremyckahn/farmhand)! \n    `,\n      }}\n    />\n  </div>\n)\n\nHome.propTypes = {}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Home {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport { array, bool, func, object, string } from 'prop-types'\nimport classNames from 'classnames'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faHeart } from '@fortawesome/free-solid-svg-icons'\n\nimport { cowColors } from '../../enums'\nimport FarmhandContext from '../../Farmhand.context'\nimport { animals } from '../../img'\n\nimport './CowPen.sass'\n\nexport class Cow extends Component {\n  state = {\n    isMoving: false,\n    showHugAnimation: false,\n    x: Cow.randomPosition(),\n    y: Cow.randomPosition(),\n  }\n\n  repositionTimeoutId = null\n  animateMovementTimeoutId = null\n  animateHugTimeoutId = null\n\n  // This MUST be kept in sync with $movement-animation-duration in CowPen.sass.\n  static movementAnimationDuration = 3000\n\n  // This MUST be kept in sync with $hug-animation-duration in CowPen.sass.\n  static hugAnimationDuration = 750\n\n  static waitVariance = 12 * 1000\n\n  static randomPosition = () => 10 + Math.random() * 80\n\n  componentDidUpdate(prevProps) {\n    if (\n      this.props.isSelected &&\n      !prevProps.isSelected &&\n      this.repositionTimeoutId !== null\n    ) {\n      clearTimeout(this.repositionTimeoutId)\n    }\n\n    if (!this.props.isSelected && prevProps.isSelected) {\n      this.scheduleMove()\n    }\n\n    if (\n      this.props.cow.happinessBoostsToday >\n        prevProps.cow.happinessBoostsToday &&\n      !this.state.showHugAnimation\n    ) {\n      this.setState({ showHugAnimation: true })\n\n      this.animateHugTimeoutId = setTimeout(\n        () => this.setState({ showHugAnimation: false }),\n        Cow.hugAnimationDuration\n      )\n    }\n  }\n\n  animateTimeoutHandler = () => {\n    this.animateMovementTimeoutId = null\n    this.finishMoving()\n  }\n\n  move = () => {\n    this.animateMovementTimeoutId = setTimeout(\n      this.animateTimeoutHandler,\n      Cow.movementAnimationDuration\n    )\n\n    this.setState({\n      isMoving: true,\n      x: Cow.randomPosition(),\n      y: Cow.randomPosition(),\n    })\n  }\n\n  finishMoving = () => {\n    this.scheduleMove()\n    this.setState({ isMoving: false })\n  }\n\n  repositionTimeoutHandler = () => {\n    this.repositionTimeoutId = null\n    this.move()\n  }\n\n  scheduleMove = () => {\n    if (this.props.isSelected) {\n      return\n    }\n\n    this.repositionTimeoutId = setTimeout(\n      this.repositionTimeoutHandler,\n      Math.random() * Cow.waitVariance\n    )\n  }\n\n  componentDidMount() {\n    this.scheduleMove()\n  }\n\n  componentWillUnmount() {\n    ;[\n      this.repositionTimeoutId,\n      this.animateMovementTimeoutId,\n      this.animateHugTimeoutId,\n    ].forEach(clearTimeout)\n  }\n\n  render() {\n    const {\n      props: { cow, handleCowClick, isSelected },\n      state: { isMoving, showHugAnimation, x, y },\n    } = this\n\n    return (\n      <div\n        {...{\n          className: classNames('cow', {\n            'is-moving': isMoving,\n            'is-selected': isSelected,\n          }),\n          onClick: () => handleCowClick(cow),\n          style: {\n            left: `${y}%`,\n            top: `${x}%`,\n          },\n        }}\n      >\n        <Tooltip\n          {...{\n            placement: 'bottom',\n            title: cow.name,\n            open: isSelected,\n            PopperProps: {\n              disablePortal: true,\n            },\n          }}\n        >\n          <div>\n            <img\n              {...{\n                src: animals.cow[cowColors[cow.color].toLowerCase()],\n              }}\n              alt=\"Cow\"\n            />\n            <FontAwesomeIcon\n              {...{\n                className: classNames('animation', {\n                  'is-animating': showHugAnimation,\n                }),\n                icon: faHeart,\n              }}\n            />\n          </div>\n        </Tooltip>\n        <ol {...{ className: 'happiness-boosts-today' }}>\n          {new Array(this.props.cow.happinessBoostsToday).fill().map((_, i) => (\n            <li {...{ key: i }}>\n              <FontAwesomeIcon\n                {...{\n                  icon: faHeart,\n                }}\n              />\n            </li>\n          ))}\n        </ol>\n      </div>\n    )\n  }\n}\n\nCow.propTypes = {\n  cow: object.isRequired,\n  handleCowClick: func.isRequired,\n  isSelected: bool.isRequired,\n}\n\nexport const CowPen = ({ cowInventory, handleCowClick, selectedCowId }) => (\n  <div className=\"CowPen\">\n    {cowInventory.map(cow => (\n      <Cow\n        {...{\n          cow,\n          key: cow.id,\n          handleCowClick,\n          isSelected: selectedCowId === cow.id,\n        }}\n      />\n    ))}\n  </div>\n)\n\nCowPen.propTypes = {\n  cowInventory: array.isRequired,\n  handleCowClick: func.isRequired,\n  selectedCowId: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <CowPen {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { Component } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { func, instanceOf, number, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport './TierPurchase.sass'\n\nexport class TierPurchase extends Component {\n  state = {\n    selectedTier: '',\n  }\n\n  tierValues = [...this.props.tiers.entries()]\n\n  get selectedTierNumber() {\n    return Number(this.state.selectedTier)\n  }\n\n  get canPlayerBuySelectedTier() {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const selectedTier = this.props.tiers.get(selectedTierNumber)\n\n    return (\n      !!selectedTier &&\n      !this.hasPurchasedTier(selectedTierNumber) &&\n      money >= selectedTier.price\n    )\n  }\n\n  hasPurchasedTier = tierLevel => tierLevel <= this.props.purchasedTier\n\n  handleTierPurchase = () => {\n    const {\n      props: { handleTierPurchase, money },\n      selectedTierNumber,\n    } = this\n    const { price } = this.props.tiers.get(selectedTierNumber)\n\n    if (money >= price) {\n      handleTierPurchase(selectedTierNumber)\n    }\n  }\n\n  onSelectChange = ({ target: { value } }) => {\n    this.setState({ selectedTier: value })\n  }\n\n  updateSelectedTier = () => {\n    const {\n      props: { money },\n      selectedTierNumber,\n    } = this\n\n    const nextTierNumber = selectedTierNumber + 1\n    const nextTierToPurchase = this.props.tiers.get(nextTierNumber)\n\n    if (nextTierToPurchase && money >= nextTierToPurchase.price) {\n      this.setState({ selectedTier: String(nextTierNumber) })\n    }\n  }\n\n  componentDidMount() {\n    this.updateSelectedTier()\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.money !== prevProps.money) {\n      this.updateSelectedTier()\n    }\n  }\n\n  render() {\n    const {\n      canPlayerBuySelectedTier,\n      handleTierPurchase,\n      hasPurchasedTier,\n      onSelectChange,\n      props: { money, renderTierLabel, title },\n      tierValues,\n      state: { selectedTier },\n    } = this\n\n    return (\n      <Card className=\"TierPurchase\">\n        <CardHeader {...{ title }} />\n        <CardActions>\n          <Select\n            {...{\n              onChange: onSelectChange,\n              value: selectedTier,\n            }}\n          >\n            {tierValues.map(([id, tier]) => (\n              <MenuItem\n                key={id}\n                value={id}\n                disabled={money < tier.price || hasPurchasedTier(id)}\n              >\n                {renderTierLabel(tier)}\n              </MenuItem>\n            ))}\n          </Select>\n          <Button\n            {...{\n              color: 'primary',\n              disabled: !canPlayerBuySelectedTier,\n              onClick: handleTierPurchase,\n              variant: 'contained',\n            }}\n          >\n            Buy\n          </Button>\n        </CardActions>\n      </Card>\n    )\n  }\n}\n\nTierPurchase.propTypes = {\n  handleTierPurchase: func.isRequired,\n  money: number.isRequired,\n  purchasedTier: number.isRequired,\n  renderTierLabel: func.isRequired,\n  tiers: instanceOf(Map),\n  title: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <TierPurchase {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { array, number, object } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport {\n  PURCHASEABLE_COW_PENS,\n  PURCHASEABLE_FIELD_SIZES,\n} from '../../constants'\nimport Inventory from '../Inventory'\nimport TierPurchase from '../TierPurchase'\n\nimport './Shop.sass'\n\nexport const Shop = ({\n  handleCowPenPurchase,\n  handleFieldPurchase,\n  purchasedCowPen,\n  purchasedField,\n  shopInventory,\n}) => (\n  <div className=\"Shop\">\n    <Inventory\n      {...{\n        items: shopInventory,\n      }}\n    />\n    <ul className=\"card-list\">\n      <li>\n        <TierPurchase\n          {...{\n            handleTierPurchase: handleFieldPurchase,\n            purchasedTier: purchasedField,\n            renderTierLabel: ({ columns, price, rows }) =>\n              `$${price}: ${columns} x ${rows}`,\n            tiers: PURCHASEABLE_FIELD_SIZES,\n            title: 'Expand field',\n          }}\n        />\n      </li>\n      <li>\n        <TierPurchase\n          {...{\n            handleTierPurchase: handleCowPenPurchase,\n            purchasedTier: purchasedCowPen,\n            renderTierLabel: ({ cows, price }) =>\n              `$${price}: Capacity for ${cows} cows`,\n            tiers: PURCHASEABLE_COW_PENS,\n            title: 'Buy cow pen',\n          }}\n        />\n      </li>\n    </ul>\n  </div>\n)\n\nShop.propTypes = {\n  purchasedCowPen: number.isRequired,\n  purchasedField: number.isRequired,\n  shopInventory: array.isRequired,\n  valueAdjustments: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Shop {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport classNames from 'classnames'\nimport Button from '@material-ui/core/Button'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport CardActions from '@material-ui/core/CardActions'\nimport { array, bool, func, object } from 'prop-types'\n\nimport { canMakeRecipe, dollarString } from '../../utils'\nimport { itemsMap } from '../../data/maps'\nimport { dishes } from '../../img'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Recipe.sass'\n\nconst noop = () => {}\n\nconst IngredientsList = ({\n  playerInventoryQuantities,\n  recipe: { ingredients, name },\n}) => (\n  <ul {...{ className: 'card-list', title: `Ingredients for ${name}` }}>\n    <li>\n      <h3>Ingredients required:</h3>\n    </li>\n    {Object.keys(ingredients).map(itemId => (\n      <li {...{ key: itemId }}>\n        <p\n          {...{\n            className: classNames(\n              playerInventoryQuantities[itemId] >= ingredients[itemId]\n                ? 'in-stock'\n                : 'out-of-stock'\n            ),\n          }}\n        >\n          {ingredients[itemId]} x {itemsMap[itemId].name} (On hand:{' '}\n          {playerInventoryQuantities[itemId]})\n        </p>\n      </li>\n    ))}\n  </ul>\n)\n\nconst Recipe = ({\n  handleMakeRecipeClick,\n  inventory,\n  playerInventoryQuantities,\n  recipe,\n  recipe: { id, name },\n\n  canBeMade = canMakeRecipe(recipe, inventory),\n}) => (\n  <Card\n    {...{\n      className: classNames('Recipe', { 'can-be-made': canBeMade }),\n      onClick: canBeMade ? () => handleMakeRecipeClick(recipe) : noop,\n    }}\n  >\n    <CardHeader\n      {...{\n        avatar: <img {...{ src: dishes[id], alt: name }} />,\n        title: name,\n        subheader: (\n          <>\n            <p>Sell price: {dollarString(itemsMap[id].value)}</p>\n            <p>In Inventory: {playerInventoryQuantities[id]}</p>\n            <IngredientsList {...{ playerInventoryQuantities, recipe }} />\n          </>\n        ),\n      }}\n    />\n    <CardActions>\n      <Button\n        {...{\n          // The onClick handler for this is bound on the parent Card for\n          // better click-ability.\n          className: 'make-recipe',\n          color: 'primary',\n          disabled: !canBeMade,\n          variant: 'contained',\n        }}\n      >\n        Make\n      </Button>\n    </CardActions>\n  </Card>\n)\n\nRecipe.propTypes = {\n  canBeMade: bool,\n  handleMakeRecipeClick: func.isRequired,\n  inventory: array.isRequired,\n  playerInventoryQuantities: object.isRequired,\n  recipe: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Recipe {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { object } from 'prop-types'\n\nimport { recipesMap } from '../../data/maps'\nimport Recipe from '../Recipe'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './Kitchen.sass'\n\nconst Kitchen = ({ learnedRecipes }) => (\n  <div className=\"Kitchen\">\n    <h2>Learned Recipes</h2>\n    <section>\n      <ul className=\"card-list\">\n        {Object.keys(learnedRecipes).map(recipeId => (\n          <li key={recipeId}>\n            <Recipe\n              {...{\n                recipe: recipesMap[recipeId],\n              }}\n            />\n          </li>\n        ))}\n      </ul>\n    </section>\n  </div>\n)\n\nKitchen.propTypes = {\n  learnedRecipes: object.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Kitchen {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React, { useEffect, useRef } from 'react'\nimport classNames from 'classnames'\nimport { array, arrayOf, bool, string } from 'prop-types'\n\nimport FarmhandContext from '../../Farmhand.context'\nimport Field from '../Field'\nimport Home from '../Home'\nimport CowPen from '../CowPen'\nimport Shop from '../Shop'\nimport Kitchen from '../Kitchen'\nimport { stageFocusType } from '../../enums'\n\nimport './Stage.sass'\n\nexport const Stage = ({\n  field,\n  isMenuOpen,\n  playerInventory,\n  stageFocus,\n  viewTitle,\n}) => {\n  const ref = useRef(null)\n\n  useEffect(() => {\n    const {\n      current,\n      current: { style },\n    } = ref\n    // Set scroll position to the top\n    current.scrollTop = 0\n\n    // Stop any intertial scrolling\n    style.overflow = 'hidden'\n    setTimeout(() => (style.overflow = ''), 0)\n  }, [stageFocus])\n\n  return (\n    <div\n      {...{\n        className: classNames('Stage', { 'menu-closed': !isMenuOpen }),\n        ref,\n      }}\n    >\n      <h2 className=\"view-title\">{viewTitle}</h2>\n      {stageFocus === stageFocusType.HOME && <Home />}\n      {stageFocus === stageFocusType.FIELD && (\n        <Field\n          {...{\n            columns: field[0].length,\n            rows: field.length,\n          }}\n        />\n      )}\n      {stageFocus === stageFocusType.SHOP && <Shop />}\n      {stageFocus === stageFocusType.COW_PEN && <CowPen />}\n      {stageFocus === stageFocusType.KITCHEN && <Kitchen />}\n      <div {...{ className: 'spacer' }} />\n    </div>\n  )\n}\n\nStage.propTypes = {\n  field: arrayOf(array).isRequired,\n  isMenuOpen: bool.isRequired,\n  playerInventory: array.isRequired,\n  stageFocus: string.isRequired,\n  viewTitle: string.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <Stage {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { arrayOf, bool, func, shape, string } from 'prop-types'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport Alert from '@material-ui/lab/Alert'\nimport ReactMarkdown from 'react-markdown'\n\nimport { NOTIFICATION_DURATION } from '../../constants'\nimport FarmhandContext from '../../Farmhand.context'\nimport './NotificationSystem.sass'\n\nexport const NotificationSystem = ({\n  handleCloseNotification,\n  handleNotificationClick,\n  handleNotificationExited,\n  notifications,\n  doShowNotifications,\n}) => (\n  <div className=\"NotificationSystem\">\n    <Snackbar\n      {...{\n        anchorOrigin: { vertical: 'top', horizontal: 'right' },\n        autoHideDuration: NOTIFICATION_DURATION,\n        className: 'notification',\n        onClick: handleNotificationClick,\n        onClose: handleCloseNotification,\n        onExited: handleNotificationExited,\n        open: doShowNotifications,\n      }}\n    >\n      {/*\n      Notifications *must* be wrapped in a div, even though it would be a bit\n      cleaner to use a Fragment. Without a wrapping div, the\n      handleCloseNotification function tends to throw null reference errors\n      that crash the game.\n      */}\n      <div className=\"wrapper\">\n        {notifications.map(({ message, severity }) => (\n          <Alert {...{ elevation: 3, key: `${severity}_${message}`, severity }}>\n            <ReactMarkdown {...{ source: message }} />\n          </Alert>\n        ))}\n      </div>\n    </Snackbar>\n  </div>\n)\n\nNotificationSystem.propTypes = {\n  handleCloseNotification: func.isRequired,\n  handleNotificationClick: func.isRequired,\n  handleNotificationExited: func.isRequired,\n  notifications: arrayOf(\n    shape({\n      message: string.isRequired,\n      severity: string.isRequired,\n    })\n  ).isRequired,\n  doShowNotifications: bool.isRequired,\n}\n\nexport default function Consumer(props) {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <NotificationSystem {...{ ...gameState, ...handlers, ...props }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import React from 'react'\nimport { func } from 'prop-types'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\n\nimport { carrot } from '../../data/items'\n\nimport FarmhandContext from '../../Farmhand.context'\n\nimport './DebugMenu.sass'\n\nexport const DebugMenu = ({\n  handleAddMoneyClick,\n  handleClearPersistedDataClick,\n  handleItemPurchaseClick,\n  handleWaterAllPlotsClick,\n}) => (\n  <ExpansionPanel className=\"DebugMenu\" square={true}>\n    <ExpansionPanelSummary>\n      <h2>Debug Menu</h2>\n    </ExpansionPanelSummary>\n    <ExpansionPanelDetails>\n      <Typography>\n        <Button\n          color=\"primary\"\n          onClick={() => handleAddMoneyClick(10000)}\n          variant=\"contained\"\n        >\n          Get $10,000\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={handleWaterAllPlotsClick}\n          variant=\"contained\"\n        >\n          Water all plots (w)\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={() => handleItemPurchaseClick(carrot, 10)}\n          variant=\"contained\"\n        >\n          Buy 10 carrots\n        </Button>\n        <Button\n          color=\"primary\"\n          onClick={handleClearPersistedDataClick}\n          variant=\"contained\"\n        >\n          Clear data\n        </Button>\n      </Typography>\n    </ExpansionPanelDetails>\n  </ExpansionPanel>\n)\n\nDebugMenu.propTypes = {\n  handleAddMoneyClick: func.isRequired,\n  handleClearPersistedDataClick: func.isRequired,\n  handleWaterAllPlotsClick: func.isRequired,\n}\n\nexport default function Consumer() {\n  return (\n    <FarmhandContext.Consumer>\n      {({ gameState, handlers }) => (\n        <DebugMenu {...{ ...gameState, ...handlers }} />\n      )}\n    </FarmhandContext.Consumer>\n  )\n}\n","import { createMuiTheme } from '@material-ui/core'\n\nexport default createMuiTheme({\n  typography: {\n    // Needed to silence this warning:\n    // https://material-ui.com/style/typography/#migration-to-typography-v2\n    useNextVariants: true,\n  },\n})\n","import React, { Component } from 'react'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport memoize from 'fast-memoize'\nimport localforage from 'localforage'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Drawer from '@material-ui/core/Drawer'\nimport Fab from '@material-ui/core/Fab'\nimport HotelIcon from '@material-ui/icons/Hotel'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport { Swipeable } from 'react-swipeable'\nimport debounce from 'lodash.debounce'\n\nimport FarmhandContext from './Farmhand.context'\nimport eventHandlers from './event-handlers'\nimport * as reducers from './reducers'\n// This must be imported here so that it can be overridden by component styles.\nimport './Farmhand.sass'\n\nimport AppBar from './components/AppBar'\nimport Navigation from './components/Navigation'\nimport ContextPane from './components/ContextPane'\nimport Stage from './components/Stage'\nimport NotificationSystem from './components/NotificationSystem'\nimport DebugMenu from './components/DebugMenu'\nimport theme from './mui-theme'\nimport { createNewField, doesMenuObstructStage, getItemValue } from './utils'\nimport shopInventory from './data/shop-inventory'\nimport { itemsMap, recipesMap } from './data/maps'\nimport { dialogView, fieldMode, stageFocusType } from './enums'\nimport {\n  PURCHASEABLE_COW_PENS,\n  STAGE_TITLE_MAP,\n  STANDARD_LOAN_AMOUNT,\n} from './constants'\nimport { COW_PEN_PURCHASED, LOAN_INCREASED, RECIPE_LEARNED } from './templates'\nimport { PROGRESS_SAVED_MESSAGE } from './strings'\n\nconst { CLEANUP, HARVEST, OBSERVE, WATER } = fieldMode\n\nconst itemIds = Object.freeze(Object.keys(itemsMap))\n\n/**\n * @param {Array.<{ item: farmhand.item, quantity: number }>} inventory\n * @param {Object.<number>} valueAdjustments\n * @returns {Array.<farmhand.item>}\n */\nexport const computePlayerInventory = memoize((inventory, valueAdjustments) =>\n  inventory.map(({ quantity, id }) => ({\n    quantity,\n    ...itemsMap[id],\n    value: getItemValue(itemsMap[id], valueAdjustments),\n  }))\n)\n\n/**\n * @param {Array.<{ item: farmhand.item }>} inventory\n * @returns {Array.<{ item: farmhand.item }>}\n */\nexport const getFieldToolInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => {\n      const { enablesFieldMode } = itemsMap[id]\n\n      return (\n        typeof enablesFieldMode === 'string' &&\n        enablesFieldMode !== fieldMode.PLANT\n      )\n    })\n    .map(({ id }) => itemsMap[id])\n)\n\n/**\n * @param {Array.<{ item: farmhand.item }>} inventory\n * @returns {Array.<{ item: farmhand.item }>}\n */\nexport const getPlantableCropInventory = memoize(inventory =>\n  inventory\n    .filter(({ id }) => itemsMap[id].isPlantableCrop)\n    .map(({ id }) => itemsMap[id])\n)\n\n/**\n * @typedef farmhand.state\n * @type {Object}\n * @property {boolean} blockSwipeNavigation\n * @property {farmhand.module:enums.dialogView} currentDialogView\n * @property {Object.<string, boolean>} completedAchievements Keys are\n * achievement ids.\n * @property {farmhand.cow} cowForSale\n * @property {Array.<farmhand.cow>} cowInventory\n * @property {Object.<farmhand.module:enums.cowColors, number>}\n * cowColorsPurchased Keys are color enums, values are the number of that color\n * of cow purchased.\n * @property {Object.<farmhand.module:enums.cropType, number>} cropsHarvested A\n * map of totals of crops harvested. Keys are crop type IDs, values are the\n * number of that crop harvested.\n * @property {number} dayCount\n * @property {Array.<Array.<?farmhand.plotContent>>} field\n * @property {farmhand.module:enums.fieldMode} fieldMode\n * @property {number} hoveredPlotRangeSize\n * @property {Array.<{ item: farmhand.item, quantity: number }>} inventory\n * @property {boolean} isMenuOpen\n * @property {Object} itemsSold Keys are items IDs, values are the number of\n * that item sold.\n * @property {Object} learnedRecipes Keys are recipe IDs, values are `true`.\n * @property {number} loanBalance\n * @property {number} money\n * @property {Array.<string>} newDayNotifications\n * @property {Array.<string>} notifications\n * @property {Array.<string} notificationLog\n * @property {string} selectedCowId\n * @property {string} selectedItemId\n * @property {Object.<string, farmhand.priceEvent>} priceCrashes Keys are\n * itemIds.\n * @property {Object.<string, farmhand.priceEvent>} priceSurges Keys are\n * itemIds.\n * @property {number} purchasedCowPen\n * @property {number} purchasedField\n * @property {number} revenue The amount of money the player has generated in\n * revenue.\n * @property {Array.<farmhand.item>} shopInventory\n * @property {boolean} doShowNotifications\n * @property {farmhand.module:enums.stageFocusType} stageFocus\n * @property {Object.<number>} valueAdjustments\n */\n\nexport default class Farmhand extends Component {\n  // Bind event handlers\n\n  localforage = localforage.createInstance({\n    name: 'farmhand',\n    description: 'Persisted game data for Farmhand',\n  })\n\n  /**\n   * @member farmhand.Farmhand#state\n   * @type {farmhand.state}\n   */\n  state = {\n    blockSwipeNavigation: false,\n    currentDialogView: dialogView.NONE,\n    completedAchievements: {},\n    cowForSale: {},\n    cowInventory: [],\n    cowColorsPurchased: {},\n    cropsHarvested: {},\n    dayCount: 0,\n    field: createNewField(),\n    hasBooted: false,\n    hoveredPlotRangeSize: 0,\n    inventory: [],\n    isMenuOpen: !doesMenuObstructStage(),\n    itemsSold: {},\n    learnedRecipes: {},\n    loanBalance: STANDARD_LOAN_AMOUNT,\n    money: STANDARD_LOAN_AMOUNT,\n    newDayNotifications: [],\n    notifications: [],\n    notificationLog: [],\n    selectedCowId: '',\n    selectedItemId: '',\n    fieldMode: OBSERVE,\n    priceCrashes: {},\n    priceSurges: {},\n    revenue: 0,\n    purchasedCowPen: 0,\n    purchasedField: 0,\n    shopInventory: [...shopInventory],\n    doShowNotifications: false,\n    stageFocus: stageFocusType.HOME,\n    valueAdjustments: {},\n  }\n\n  constructor() {\n    super(...arguments)\n\n    this.initInputHandlers()\n    this.initReducers()\n  }\n\n  static reduceByPersistedKeys(state) {\n    return [\n      'cowForSale',\n      'completedAchievements',\n      'cowInventory',\n      'cowColorsPurchased',\n      'cropsHarvested',\n      'dayCount',\n      'field',\n      'inventory',\n      'itemsSold',\n      'learnedRecipes',\n      'loanBalance',\n      'money',\n      'newDayNotifications',\n      'notificationLog',\n      'purchasedCowPen',\n      'purchasedField',\n      'priceCrashes',\n      'priceSurges',\n      'revenue',\n      'valueAdjustments',\n    ].reduce((acc, key) => {\n      acc[key] = state[key]\n\n      return acc\n    }, {})\n  }\n\n  get viewTitle() {\n    return STAGE_TITLE_MAP[this.state.stageFocus]\n  }\n\n  get fieldToolInventory() {\n    return getFieldToolInventory(this.state.inventory)\n  }\n\n  get playerInventory() {\n    const { inventory, valueAdjustments } = this.state\n    return computePlayerInventory(inventory, valueAdjustments)\n  }\n\n  get playerInventoryQuantities() {\n    const { inventory } = this.state\n\n    return itemIds.reduce((acc, itemId) => {\n      const itemInInventory = inventory.find(({ id }) => id === itemId)\n      acc[itemId] = itemInInventory ? itemInInventory.quantity : 0\n\n      return acc\n    }, {})\n  }\n\n  get plantableCropInventory() {\n    return getPlantableCropInventory(this.state.inventory)\n  }\n\n  get viewList() {\n    const { COW_PEN, FIELD, HOME, KITCHEN, SHOP } = stageFocusType\n    const viewList = [HOME, SHOP, FIELD, KITCHEN]\n\n    if (this.state.purchasedCowPen) {\n      viewList.push(COW_PEN)\n    }\n\n    return viewList\n  }\n\n  initInputHandlers() {\n    const debouncedInputRate = 50\n\n    this.handlers = { debounced: {} }\n\n    Object.keys(eventHandlers).forEach(method => {\n      this.handlers[method] = eventHandlers[method].bind(this)\n\n      this.handlers.debounced[method] = debounce(\n        this.handlers[method],\n        debouncedInputRate\n      )\n    })\n\n    this.keyMap = {\n      incrementDay: 'shift+c',\n      nextView: 'right',\n      openAccounting: 'b',\n      openAchievements: 'a',\n      openLog: 'l',\n      openPriceEvents: 'p',\n      openStats: 'd',\n      previousView: 'left',\n      selectHoe: 'shift+h',\n      selectScythe: 'shift+s',\n      selectWateringCan: 'shift+w',\n      toggleMenu: 'm',\n    }\n\n    this.keyHandlers = {\n      incrementDay: () => this.incrementDay(),\n      nextView: this.focusNextView.bind(this),\n      openAccounting: () =>\n        this.setState({ currentDialogView: dialogView.ACCOUNTING }),\n      openAchievements: () =>\n        this.setState({ currentDialogView: dialogView.ACHIEVEMENTS }),\n      openLog: () =>\n        this.setState({ currentDialogView: dialogView.FARMERS_LOG }),\n      openPriceEvents: () =>\n        this.setState({ currentDialogView: dialogView.PRICE_EVENTS }),\n      openStats: () => this.setState({ currentDialogView: dialogView.STATS }),\n      previousView: this.focusPreviousView.bind(this),\n      selectHoe: () => this.handlers.handleFieldModeSelect(CLEANUP),\n      selectScythe: () => this.handlers.handleFieldModeSelect(HARVEST),\n      selectWateringCan: () => this.handlers.handleFieldModeSelect(WATER),\n      toggleMenu: () => this.handlers.handleMenuToggle(),\n    }\n\n    new Array(9).fill(null).forEach((_, i) => {\n      const index = i + 1\n      const key = `numberKey${index}`\n      this.keyMap[key] = String(index)\n      this.keyHandlers[key] = () => {\n        const viewName = this.viewList[i]\n\n        if (typeof viewName === 'string') {\n          this.setState({ stageFocus: stageFocusType[viewName] })\n        }\n      }\n    })\n\n    // TODO: Disable this is non-dev environments.\n    Object.assign(this.keyMap, {\n      clearPersistedData: 'shift+d',\n      waterAllPlots: 'w',\n    })\n\n    Object.assign(this.keyHandlers, {\n      clearPersistedData: () => this.clearPersistedData(),\n      waterAllPlots: () => this.waterAllPlots(this.state),\n    })\n  }\n\n  initReducers() {\n    ;[\n      'adjustLoan',\n      'computeStateForNextDay',\n      'changeCowName',\n      'clearPlot',\n      'fertilizeCrop',\n      'harvestAll',\n      'harvestPlot',\n      'hugCow',\n      'makeRecipe',\n      'modifyCow',\n      'purchaseCow',\n      'purchaseCowPen',\n      'purchaseField',\n      'purchaseItem',\n      'plantInPlot',\n      'sellItem',\n      'sellCow',\n      'selectCow',\n      'setScarecrow',\n      'setSprinkler',\n      'showNotification',\n      'waterField',\n      'waterAllPlots',\n      'waterPlot',\n    ].forEach(reducerName => {\n      const reducer = reducers[reducerName]\n\n      this[reducerName] = (...args) => {\n        this.setState(state => reducer(state, ...args))\n      }\n    })\n  }\n\n  componentDidMount() {\n    this.localforage.getItem('state').then(state => {\n      if (state) {\n        const { newDayNotifications } = state\n        this.setState({ ...state, newDayNotifications: [] }, () => {\n          newDayNotifications.forEach(({ message, severity }) =>\n            this.showNotification(message, severity)\n          )\n        })\n      } else {\n        // Initialize new game\n        this.incrementDay(true)\n        this.showNotification(LOAN_INCREASED`${STANDARD_LOAN_AMOUNT}`, 'info')\n      }\n\n      this.setState({ hasBooted: true })\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { hasBooted, stageFocus, isMenuOpen } = this.state\n\n    // The operations after this if block concern transient gameplay state, but\n    // componentDidUpdate runs as part of the rehydration/bootup process. So,\n    // check to see if the app has completed booting before doing anything with\n    // this transient state.\n    if (!hasBooted) {\n      return\n    }\n\n    const updatedAchievementsState = reducers.updateAchievements(\n      this.state,\n      prevState\n    )\n\n    if (updatedAchievementsState !== this.state) {\n      this.setState(() => updatedAchievementsState)\n    }\n\n    if (\n      this.state.stageFocus === stageFocusType.COW_PEN &&\n      prevState.stageFocus !== stageFocusType.COW_PEN\n    ) {\n      this.setState(() => ({ selectedCowId: '' }))\n    }\n\n    if (stageFocus !== prevState.stageFocus) {\n      this.setState(() => ({ blockSwipeNavigation: false }))\n\n      if (isMenuOpen) {\n        this.setState(() => ({ isMenuOpen: !doesMenuObstructStage() }))\n      }\n    }\n\n    ;[\n      'showCowPenPurchasedNotifications',\n      'showRecipeLearnedNotifications',\n    ].forEach(fn => this[fn](prevState))\n  }\n\n  clearPersistedData() {\n    this.localforage\n      .clear()\n      .then(() => this.showNotification('localforage.clear() succeeded!'))\n  }\n\n  /**\n   * @param {farmhand.state} prevState\n   */\n  showCowPenPurchasedNotifications(prevState) {\n    const {\n      state: { purchasedCowPen },\n    } = this\n\n    if (purchasedCowPen !== prevState.purchasedCowPen) {\n      const { cows } = PURCHASEABLE_COW_PENS.get(purchasedCowPen)\n\n      this.showNotification(COW_PEN_PURCHASED`${cows}`)\n    }\n  }\n\n  /**\n   * @param {farmhand.state} prevState\n   */\n  showRecipeLearnedNotifications({ learnedRecipes: previousLearnedRecipes }) {\n    Object.keys(this.state.learnedRecipes).forEach(recipeId => {\n      if (!previousLearnedRecipes.hasOwnProperty(recipeId)) {\n        this.showNotification(RECIPE_LEARNED`${recipesMap[recipeId]}`)\n      }\n    })\n  }\n\n  /**\n   * @param {boolean} [isFirstDay=false]\n   */\n  incrementDay(isFirstDay = false) {\n    const nextDayState = reducers.computeStateForNextDay(this.state, isFirstDay)\n    const pendingNotifications = [...nextDayState.newDayNotifications]\n\n    // This would be cleaner if setState was called after localForage.setItem,\n    // but updating the state first makes for a more responsive user\n    // experience. The persisted state is computed post-update and stored\n    // asynchronously, thus avoiding state changes from being blocked.\n\n    this.setState(\n      { ...nextDayState, newDayNotifications: [], notifications: [] },\n      () => {\n        this.localforage\n          .setItem(\n            'state',\n            Farmhand.reduceByPersistedKeys({\n              ...this.state,\n\n              // Old pendingNotifications are persisted so that they can be\n              // shown to the player when the app reloads.\n              newDayNotifications: pendingNotifications,\n            })\n          )\n          .then(({ newDayNotifications }) =>\n            []\n              .concat(newDayNotifications)\n              .concat(\n                isFirstDay\n                  ? []\n                  : [{ message: PROGRESS_SAVED_MESSAGE, severity: 'info' }]\n              )\n              .forEach(({ message, severity }) =>\n                this.showNotification(message, severity)\n              )\n          )\n          .catch(e => {\n            console.error(e)\n\n            this.showNotification(JSON.stringify(e))\n          })\n      }\n    )\n  }\n\n  focusNextView() {\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return { stageFocus: viewList[(currentViewIndex + 1) % viewList.length] }\n    })\n  }\n\n  focusPreviousView() {\n    const { viewList } = this\n\n    this.setState(({ stageFocus }) => {\n      const currentViewIndex = viewList.indexOf(stageFocus)\n\n      return {\n        stageFocus:\n          viewList[\n            currentViewIndex === 0\n              ? viewList.length - 1\n              : (currentViewIndex - 1) % viewList.length\n          ],\n      }\n    })\n  }\n\n  render() {\n    const {\n      fieldToolInventory,\n      handlers,\n      keyHandlers,\n      keyMap,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      viewList,\n      viewTitle,\n    } = this\n\n    // Bundle up the raw state and the computed state into one object to be\n    // passed down through the component tree.\n    const gameState = {\n      ...this.state,\n      fieldToolInventory,\n      plantableCropInventory,\n      playerInventory,\n      playerInventoryQuantities,\n      viewList,\n      viewTitle,\n    }\n\n    return (\n      <GlobalHotKeys keyMap={keyMap} handlers={keyHandlers}>\n        <MuiThemeProvider theme={theme}>\n          <Swipeable\n            {...{\n              className: 'swipeable-wrapper',\n              onSwiped: handlers.handleSwipe,\n            }}\n          >\n            <FarmhandContext.Provider value={{ gameState, handlers }}>\n              <div className=\"Farmhand fill\">\n                <AppBar />\n                <Drawer\n                  {...{\n                    className: 'sidebar-wrapper',\n                    open: gameState.isMenuOpen,\n                    variant: 'persistent',\n                    PaperProps: {\n                      className: 'sidebar',\n                    },\n                  }}\n                >\n                  <Navigation />\n                  <ContextPane />\n                  <DebugMenu />\n                  <div {...{ className: 'spacer' }} />\n                </Drawer>\n                <Stage />\n\n                {/*\n              These controls need to be at this top level instead of the Stage\n              because of scrolling issues in iOS.\n              */}\n                <div className=\"bottom-controls\">\n                  <MobileStepper\n                    variant=\"dots\"\n                    steps={viewList.length}\n                    position=\"static\"\n                    activeStep={viewList.indexOf(this.state.stageFocus)}\n                    className=\"\"\n                  />\n                  <div className=\"fab-buttons buttons\">\n                    <Fab\n                      {...{\n                        'aria-label': 'Previous view',\n                        color: 'primary',\n                        onClick: () => this.focusPreviousView(),\n                      }}\n                    >\n                      <KeyboardArrowLeft />\n                    </Fab>\n                    <Tooltip\n                      {...{\n                        placement: 'top',\n                        title: (\n                          <>\n                            <p>\n                              End the day to save your progress and advance the\n                              game.\n                            </p>\n                            <p>(shift + c)</p>\n                          </>\n                        ),\n                      }}\n                    >\n                      <Fab\n                        {...{\n                          'aria-label':\n                            'End the day to save your progress and advance the game.',\n                          color: 'secondary',\n                          onClick: handlers.handleClickEndDayButton,\n                        }}\n                      >\n                        <HotelIcon />\n                      </Fab>\n                    </Tooltip>\n                    <Fab\n                      {...{\n                        'aria-label': 'Next view',\n                        color: 'primary',\n                        onClick: () => this.focusNextView(),\n                      }}\n                    >\n                      <KeyboardArrowRight />\n                    </Fab>\n                  </div>\n                </div>\n              </div>\n              <NotificationSystem />\n            </FarmhandContext.Provider>\n          </Swipeable>\n        </MuiThemeProvider>\n      </GlobalHotKeys>\n    )\n  }\n}\n","/**\n * @namespace farmhand\n */\n\n/**\n * Lookup table for the lifecycle durations of a crop (in days).\n * @typedef farmhand.cropTimetable\n * @readonly\n * @type {Object}\n * @property {number} seed\n * @property {number} growing\n */\n\n/**\n * Reference object for an item.\n * @typedef farmhand.item\n * @type {Object}\n * @readonly\n * @property {string} id\n * @property {string} name\n * @property {number} value\n * @property {string} type\n * @property {farmhand.cropTimetable} [cropTimetable]\n * @property {farmhand.module:enums.cropType} [cropType]\n * @property {string} [description] A user-friendly description of the item.\n * @property {string} [enablesFieldMode] The fieldMode that this item enables.\n * @property {string} [growsInto] The id of another farmhand.item.\n * @property {boolean} [doesPriceFluctuate] Whether or not this item has a\n * value that fluctuates from day to day.\n * @property {number} [hoveredPlotRange] The number to set.\n * farmhand.state.hoveredPlotRange to when the item is active.\n * @property {boolean} [isPlantableCrop]\n * @property {boolean} [isReplantable]\n * @property {number} [quanitity] How many of the item the player has.\n */\n\n/**\n * This is a minimalist base type to be inherited and expanded on by types like\n * farmhand.crop. This also represents non-crop plot content like scarecrows\n * and sprinklers.\n * @typedef farmhand.plotContent\n * @type {Object}\n * @property {string} itemId\n */\n\n/**\n * Represents a crop as it proceeds through the lifecycle.\n * @typedef farmhand.crop\n * @type {farmhand.plotContent}\n * @property {number} daysOld\n * @property {number} daysWatered\n * @property {boolean} isFertilized\n * @property {boolean} wasWateredToday\n */\n\n// Note: At some point farmhand.cow will be abstracted to farmhand.animal, but\n// there's only one animal so far so the abstraction isn't helpful yet.\n/**\n * @typedef farmhand.cow\n * @type {Object}\n * @property {number} baseWeight\n * @property {number} daysOld\n * @property {number} happiness 0-1.\n * @property {number} happinessBoostsToday\n * @property {string} name\n * @property {number} weightMultiplier Clamped between 0.5 and 1.5.\n */\n\n/**\n * @callback farmhand.recipeCondition\n * @param {farmhand.state} state\n * @returns {boolean}\n */\n\n/**\n * @typedef farmhand.recipe\n * @readonly\n * @type {farmhand.item}\n * @property {number} markup The additional value on top of the sum total of\n * the standardized ingredient cost.\n * @property {{[farmhand.item.id]: number}} ingredients An object where each\n * key is the id of a farmhand.item and the value is the quantity of that item.\n * @property {farmhand.recipeCondition} condition This must return `true` for\n * the recipe to be made available to the player.\n */\n\n/**\n * @typedef farmhand.priceEvent\n * @type {Object}\n * @property {string} itemId\n * @property {number} daysRemaining\n */\n\n/**\n * @callback farmhand.achievementCondition\n * @param {farmhand.state} state\n * @param {farmhand.state} prevState\n * @returns {boolean}\n */\n\n/**\n * @callback farmhand.achievementReward\n * @param {farmhand.state} state\n * @returns {farmhand.state}\n */\n\n/**\n * @typedef farmhand.achievement\n * @readonly\n * @type {Object}\n * @property {string} id\n * @property {string} name\n * @property {string} description\n * @property {string} rewardDescription\n * @property {farmhand.achievementCondition} condition\n * @property {farmhand.achievementReward} reward\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.sass'\nimport Farmhand from './Farmhand'\nimport 'typeface-francois-one'\nimport 'typeface-public-sans'\n\nReactDOM.render(<Farmhand />, document.getElementById('root'))\n"],"sourceRoot":""}